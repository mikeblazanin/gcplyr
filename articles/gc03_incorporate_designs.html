<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Incorporating experimental designs • gcplyr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Incorporating experimental designs">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gcplyr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.11.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/gc01_gcplyr.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/gc02_import_reshape.html">Importing and reshaping data</a></li>
    <li><a class="dropdown-item" href="../articles/gc03_incorporate_designs.html">Incorporating experimental designs</a></li>
    <li><a class="dropdown-item" href="../articles/gc04_preprocess_plot.html">Pre-processing and plotting data</a></li>
    <li><a class="dropdown-item" href="../articles/gc05_process.html">Processing data</a></li>
    <li><a class="dropdown-item" href="../articles/gc06_analyze.html">Analyzing data</a></li>
    <li><a class="dropdown-item" href="../articles/gc07_noise.html">Dealing with noise</a></li>
    <li><a class="dropdown-item" href="../articles/gc08_conclusion.html">Best practices and other tips</a></li>
    <li><a class="dropdown-item" href="../articles/gc09_multiple_plates.html">Working with multiple plates</a></li>
    <li><a class="dropdown-item" href="../articles/gc10_using_make_design.html">Using make_design to generate experimental designs</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mikeblazanin/gcplyr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Incorporating experimental designs</h1>
                        <h4 data-toc-skip class="author">Mike
Blazanin</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mikeblazanin/gcplyr/blob/v1.11.0/vignettes/gc03_incorporate_designs.Rmd" class="external-link"><code>vignettes/gc03_incorporate_designs.Rmd</code></a></small>
      <div class="d-none name"><code>gc03_incorporate_designs.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="where-are-we-so-far">Where are we so far?<a class="anchor" aria-label="anchor" href="#where-are-we-so-far"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Introduction: <code><a href="../articles/gc01_gcplyr.html">vignette("gc01_gcplyr")</a></code>
</li>
<li>Importing and reshaping data:
<code><a href="../articles/gc02_import_reshape.html">vignette("gc02_import_reshape")</a></code>
</li>
<li>
<strong>Incorporating experimental designs:</strong>
<code><a href="../articles/gc03_incorporate_designs.html">vignette("gc03_incorporate_designs")</a></code>
</li>
<li>Pre-processing and plotting your data:
<code><a href="../articles/gc04_preprocess_plot.html">vignette("gc04_preprocess_plot")</a></code>
</li>
<li>Processing your data: <code><a href="../articles/gc05_process.html">vignette("gc05_process")</a></code>
</li>
<li>Analyzing your data: <code><a href="../articles/gc06_analyze.html">vignette("gc06_analyze")</a></code>
</li>
<li>Dealing with noise: <code><a href="../articles/gc07_noise.html">vignette("gc07_noise")</a></code>
</li>
<li>Best practices and other tips:
<code><a href="../articles/gc08_conclusion.html">vignette("gc08_conclusion")</a></code>
</li>
<li>Working with multiple plates:
<code><a href="../articles/gc09_multiple_plates.html">vignette("gc09_multiple_plates")</a></code>
</li>
<li>Using make_design to generate experimental designs:
<code><a href="../articles/gc10_using_make_design.html">vignette("gc10_using_make_design")</a></code>
</li>
</ol>
<p>So far, we’ve imported and transformed our measures data into
<code>R</code>. Now we’re going to address how to incorporate our
experimental design.</p>
<p>If you haven’t already, load the necessary packages.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mikeblazanin.github.io/gcplyr/">gcplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ## </span></span>
<span><span class="co">#&gt; ## gcplyr (Version 1.11.0, Build Date: 2025-01-16)</span></span>
<span><span class="co">#&gt; ## See http://github.com/mikeblazanin/gcplyr for additional documentation</span></span>
<span><span class="co">#&gt; ## Please cite software as:</span></span>
<span><span class="co">#&gt; ##   Blazanin, Michael. gcplyr: an R package for microbial growth</span></span>
<span><span class="co">#&gt; ##   curve data analysis. BMC Bioinformatics 25, 232 (2024).</span></span>
<span><span class="co">#&gt; ##   https://doi.org/10.1186/s12859-024-05817-3</span></span>
<span><span class="co">#&gt; ##</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="including-design-elements">Including design elements<a class="anchor" aria-label="anchor" href="#including-design-elements"></a>
</h2>
<p>We often want to combine our data with information about the
experimental design. <code>gcplyr</code> enables incorporation of design
elements in two ways:</p>
<ol style="list-style-type: decimal">
<li>Designs can be imported from files</li>
<li>Designs can be generated in <code>R</code> using
<code>make_design</code>
</li>
</ol>
<p>If you’re interested in generating your designs in <code>R</code>,
see <code><a href="../articles/gc10_using_make_design.html">vignette("gc10_using_make_design")</a></code></p>
<p>When reading design elements from files, <code>gcplyr</code> can read
block-shaped or tidy-shaped design files:</p>
<ul>
<li>If design files are block-shaped, they can be read with
<code>import_blockdesigns</code>
</li>
<li>If design files are tidy-shaped, they can simply be read with
<code>read_tidys</code>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="importing-block-shaped-design-files">Importing block-shaped design files<a class="anchor" aria-label="anchor" href="#importing-block-shaped-design-files"></a>
</h2>
<p>To import block-shaped design files, use
<code>import_blockdesigns</code>, which will return a tidy-shaped
designs data frame (or list of data frames).</p>
<p><code>import_blockdesigns</code> only requires a list of filenames
(or relative file paths) and will return a data.frame (or list of data
frames) in a <strong>tidy format</strong> that you can save in R.</p>
<div class="section level3">
<h3 id="a-basic-example">A basic example<a class="anchor" aria-label="anchor" href="#a-basic-example"></a>
</h3>
<p>Let’s look at an example. First, we need to create an example file
for the sake of this tutorial (normally you’d create this file in
Excel)</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/make_example.html">make_example</a></span><span class="op">(</span>vignette <span class="op">=</span> <span class="fl">3</span>, example <span class="op">=</span> <span class="fl">1</span>, dir <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Files have been written</span></span>
<span><span class="co">#&gt; [1] "./mydesign.csv"</span></span></code></pre></div>
<p>Now let’s take a look at what the file looks like:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/print_df.html">print_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"mydesign.csv"</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;     1   2   3   4   5   6   7   8   9  10  11  12</span></span>
<span><span class="co">#&gt; A Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; B Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; C Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; D Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; E Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; F Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; G Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; H Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span></code></pre></div>
<p>Here we can see that our design has Treatment 1 on the left-hand side
of the plate (wells in columns 1 through 6), and Treatment 2 on the
right-hand side of the plate (wells in columns 7 through 12). Let’s
import this design using <code>import_blockdesigns</code>, saving it
with the column name <code>Treatment_numbers</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_blockdesigns.html">import_blockdesigns</a></span><span class="op">(</span>files <span class="op">=</span> <span class="st">"mydesign.csv"</span>, </span>
<span>                                 block_names <span class="op">=</span> <span class="st">"Treatment_numbers"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">my_design</span>, <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Well Treatment_numbers</span></span>
<span><span class="co">#&gt; 1    A1               Tr1</span></span>
<span><span class="co">#&gt; 2    A2               Tr1</span></span>
<span><span class="co">#&gt; 3    A3               Tr1</span></span>
<span><span class="co">#&gt; 4    A4               Tr1</span></span>
<span><span class="co">#&gt; 5    A5               Tr1</span></span>
<span><span class="co">#&gt; 6    A6               Tr1</span></span>
<span><span class="co">#&gt; 7    A7               Tr2</span></span>
<span><span class="co">#&gt; 8    A8               Tr2</span></span>
<span><span class="co">#&gt; 9    A9               Tr2</span></span>
<span><span class="co">#&gt; 10  A10               Tr2</span></span>
<span><span class="co">#&gt; 11  A11               Tr2</span></span>
<span><span class="co">#&gt; 12  A12               Tr2</span></span>
<span><span class="co">#&gt; 13   B1               Tr1</span></span>
<span><span class="co">#&gt; 14   B2               Tr1</span></span>
<span><span class="co">#&gt; 15   B3               Tr1</span></span>
<span><span class="co">#&gt; 16   B4               Tr1</span></span>
<span><span class="co">#&gt; 17   B5               Tr1</span></span>
<span><span class="co">#&gt; 18   B6               Tr1</span></span>
<span><span class="co">#&gt; 19   B7               Tr2</span></span>
<span><span class="co">#&gt; 20   B8               Tr2</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="importing-multiple-block-shaped-design-elements">Importing multiple block-shaped design elements<a class="anchor" aria-label="anchor" href="#importing-multiple-block-shaped-design-elements"></a>
</h3>
<p>What do you do if you have multiple designs? For instance, what if
you have several strains each in several treatments? In that case, you
have two options:</p>
<ol style="list-style-type: decimal">
<li>Save each design component as a separate file, or in separate blocks
within a file</li>
<li>Save the design components pasted together in a single file</li>
</ol>
<p>Regardless of which option you use, you can then import them all in
one go with <code>import_blockdesigns</code>.</p>
<div class="section level4">
<h4 id="importing-multiple-block-shaped-designs-in-separate-files">Importing multiple block-shaped designs in separate files<a class="anchor" aria-label="anchor" href="#importing-multiple-block-shaped-designs-in-separate-files"></a>
</h4>
<p>First, let’s create both our example designs files. Again, just
imagine that you’ve created these files in Excel.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/make_example.html">make_example</a></span><span class="op">(</span>vignette <span class="op">=</span> <span class="fl">3</span>, example <span class="op">=</span> <span class="fl">1</span>, dir <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Files have been written</span></span>
<span><span class="co">#&gt; [1] "./mydesign.csv"</span></span>
<span><span class="fu"><a href="../reference/make_example.html">make_example</a></span><span class="op">(</span>vignette <span class="op">=</span> <span class="fl">3</span>, example <span class="op">=</span> <span class="fl">2</span>, dir <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Files have been written</span></span>
<span><span class="co">#&gt; [1] "./mydesign2.csv"</span></span></code></pre></div>
<p>Now let’s take a look at what these files looks like:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/print_df.html">print_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"mydesign.csv"</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;     1   2   3   4   5   6   7   8   9  10  11  12</span></span>
<span><span class="co">#&gt; A Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; B Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; C Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; D Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; E Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; F Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; G Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="co">#&gt; H Tr1 Tr1 Tr1 Tr1 Tr1 Tr1 Tr2 Tr2 Tr2 Tr2 Tr2 Tr2</span></span>
<span><span class="fu"><a href="../reference/print_df.html">print_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"mydesign2.csv"</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      1    2    3    4    5    6    7    8    9   10   11   12</span></span>
<span><span class="co">#&gt; A StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA</span></span>
<span><span class="co">#&gt; B StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA</span></span>
<span><span class="co">#&gt; C StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB</span></span>
<span><span class="co">#&gt; D StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB</span></span>
<span><span class="co">#&gt; E StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC</span></span>
<span><span class="co">#&gt; F StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC</span></span>
<span><span class="co">#&gt; G StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD</span></span>
<span><span class="co">#&gt; H StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD</span></span></code></pre></div>
<p>As before, we have Treatment 1 on the left-hand side, and Treatment 2
on the right-hand side. In addition, we now also have Strain A in the
first two rows, Strain B in the next two rows, and so on.</p>
<p>Let’s now import both designs using <code>import_blockdesigns</code>,
saving them to columns named <code>Treatment_numbers</code> and
<code>Strain_letters</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/import_blockdesigns.html">import_blockdesigns</a></span><span class="op">(</span>files <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mydesign.csv"</span>, <span class="st">"mydesign2.csv"</span><span class="op">)</span>, </span>
<span>                      block_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Treatment_numbers"</span>, <span class="st">"Strain_letters"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Inferred 'into' column names as: Treatment_numbers, Strain_letters</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">my_design</span>, <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Well Treatment_numbers Strain_letters</span></span>
<span><span class="co">#&gt; 1    A1               Tr1           StrA</span></span>
<span><span class="co">#&gt; 2    A2               Tr1           StrA</span></span>
<span><span class="co">#&gt; 3    A3               Tr1           StrA</span></span>
<span><span class="co">#&gt; 4    A4               Tr1           StrA</span></span>
<span><span class="co">#&gt; 5    A5               Tr1           StrA</span></span>
<span><span class="co">#&gt; 6    A6               Tr1           StrA</span></span>
<span><span class="co">#&gt; 7    A7               Tr2           StrA</span></span>
<span><span class="co">#&gt; 8    A8               Tr2           StrA</span></span>
<span><span class="co">#&gt; 9    A9               Tr2           StrA</span></span>
<span><span class="co">#&gt; 10  A10               Tr2           StrA</span></span>
<span><span class="co">#&gt; 11  A11               Tr2           StrA</span></span>
<span><span class="co">#&gt; 12  A12               Tr2           StrA</span></span>
<span><span class="co">#&gt; 13   B1               Tr1           StrA</span></span>
<span><span class="co">#&gt; 14   B2               Tr1           StrA</span></span>
<span><span class="co">#&gt; 15   B3               Tr1           StrA</span></span>
<span><span class="co">#&gt; 16   B4               Tr1           StrA</span></span>
<span><span class="co">#&gt; 17   B5               Tr1           StrA</span></span>
<span><span class="co">#&gt; 18   B6               Tr1           StrA</span></span>
<span><span class="co">#&gt; 19   B7               Tr2           StrA</span></span>
<span><span class="co">#&gt; 20   B8               Tr2           StrA</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="importing-multiple-separated-block-shaped-designs-in-one-file">Importing multiple separated block-shaped designs in one file<a class="anchor" aria-label="anchor" href="#importing-multiple-separated-block-shaped-designs-in-one-file"></a>
</h4>
<p>If you have your blocks separated but saved in the same file, you
simply specify the location of each block within the file:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/make_example.html">make_example</a></span><span class="op">(</span>vignette <span class="op">=</span> <span class="fl">3</span>, example <span class="op">=</span> <span class="fl">3</span>, dir <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Files have been written</span></span>
<span><span class="co">#&gt; [1] "./mydesign_sep.csv"</span></span>
<span></span>
<span><span class="co">#Print what the file looks like</span></span>
<span><span class="fu"><a href="../reference/print_df.html">print_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"mydesign_sep.csv"</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      1    2    3    4    5    6    7    8    9   10   11   12</span></span>
<span><span class="co">#&gt; A  Tr1  Tr1  Tr1  Tr1  Tr1  Tr1  Tr2  Tr2  Tr2  Tr2  Tr2  Tr2</span></span>
<span><span class="co">#&gt; B  Tr1  Tr1  Tr1  Tr1  Tr1  Tr1  Tr2  Tr2  Tr2  Tr2  Tr2  Tr2</span></span>
<span><span class="co">#&gt; C  Tr1  Tr1  Tr1  Tr1  Tr1  Tr1  Tr2  Tr2  Tr2  Tr2  Tr2  Tr2</span></span>
<span><span class="co">#&gt; D  Tr1  Tr1  Tr1  Tr1  Tr1  Tr1  Tr2  Tr2  Tr2  Tr2  Tr2  Tr2</span></span>
<span><span class="co">#&gt; E  Tr1  Tr1  Tr1  Tr1  Tr1  Tr1  Tr2  Tr2  Tr2  Tr2  Tr2  Tr2</span></span>
<span><span class="co">#&gt; F  Tr1  Tr1  Tr1  Tr1  Tr1  Tr1  Tr2  Tr2  Tr2  Tr2  Tr2  Tr2</span></span>
<span><span class="co">#&gt; G  Tr1  Tr1  Tr1  Tr1  Tr1  Tr1  Tr2  Tr2  Tr2  Tr2  Tr2  Tr2</span></span>
<span><span class="co">#&gt; H  Tr1  Tr1  Tr1  Tr1  Tr1  Tr1  Tr2  Tr2  Tr2  Tr2  Tr2  Tr2</span></span>
<span><span class="co">#&gt;                                                              </span></span>
<span><span class="co">#&gt;      1    2    3    4    5    6    7    8    9   10   11   12</span></span>
<span><span class="co">#&gt; A StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA</span></span>
<span><span class="co">#&gt; B StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA StrA</span></span>
<span><span class="co">#&gt; C StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB</span></span>
<span><span class="co">#&gt; D StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB StrB</span></span>
<span><span class="co">#&gt; E StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC</span></span>
<span><span class="co">#&gt; F StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC StrC</span></span>
<span><span class="co">#&gt; G StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD</span></span>
<span><span class="co">#&gt; H StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD StrD</span></span>
<span></span>
<span><span class="co">#Read in the designs</span></span>
<span><span class="va">my_design</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/import_blockdesigns.html">import_blockdesigns</a></span><span class="op">(</span>files <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mydesign_sep.csv"</span><span class="op">)</span>, </span>
<span>                      block_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Treatment_numbers"</span>, <span class="st">"Strain_letters"</span><span class="op">)</span>,</span>
<span>                      startrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">11</span><span class="op">)</span>, endrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fl">19</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Inferred 'into' column names as: Treatment_numbers, Strain_letters</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">my_design</span>, <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Well Treatment_numbers Strain_letters</span></span>
<span><span class="co">#&gt; 1    A1               Tr1           StrA</span></span>
<span><span class="co">#&gt; 2    A2               Tr1           StrA</span></span>
<span><span class="co">#&gt; 3    A3               Tr1           StrA</span></span>
<span><span class="co">#&gt; 4    A4               Tr1           StrA</span></span>
<span><span class="co">#&gt; 5    A5               Tr1           StrA</span></span>
<span><span class="co">#&gt; 6    A6               Tr1           StrA</span></span>
<span><span class="co">#&gt; 7    A7               Tr2           StrA</span></span>
<span><span class="co">#&gt; 8    A8               Tr2           StrA</span></span>
<span><span class="co">#&gt; 9    A9               Tr2           StrA</span></span>
<span><span class="co">#&gt; 10  A10               Tr2           StrA</span></span>
<span><span class="co">#&gt; 11  A11               Tr2           StrA</span></span>
<span><span class="co">#&gt; 12  A12               Tr2           StrA</span></span>
<span><span class="co">#&gt; 13   B1               Tr1           StrA</span></span>
<span><span class="co">#&gt; 14   B2               Tr1           StrA</span></span>
<span><span class="co">#&gt; 15   B3               Tr1           StrA</span></span>
<span><span class="co">#&gt; 16   B4               Tr1           StrA</span></span>
<span><span class="co">#&gt; 17   B5               Tr1           StrA</span></span>
<span><span class="co">#&gt; 18   B6               Tr1           StrA</span></span>
<span><span class="co">#&gt; 19   B7               Tr2           StrA</span></span>
<span><span class="co">#&gt; 20   B8               Tr2           StrA</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="importing-multiple-pasted-block-shaped-designs">Importing multiple pasted block-shaped designs<a class="anchor" aria-label="anchor" href="#importing-multiple-pasted-block-shaped-designs"></a>
</h4>
<p>Alternative to saving your designs separated, often it may be easiest
to save all the design information into a single block, separating the
distinct components of the design with some character.</p>
<p>To demonstrate this, first let’s create our example designs file.
Again, just imagine that you’ve created this file in Excel.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/make_example.html">make_example</a></span><span class="op">(</span>vignette <span class="op">=</span> <span class="fl">3</span>, example <span class="op">=</span> <span class="fl">4</span>, dir <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Files have been written</span></span>
<span><span class="co">#&gt; [1] "./mydesign_pasted.csv"</span></span></code></pre></div>
<p>Now let’s take a look at what the file looks like:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/print_df.html">print_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"mydesign_pasted.csv"</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;          1        2        3        4        5        6        7        8        9</span></span>
<span><span class="co">#&gt; A Tr1_StrA Tr1_StrA Tr1_StrA Tr1_StrA Tr1_StrA Tr1_StrA Tr2_StrA Tr2_StrA Tr2_StrA</span></span>
<span><span class="co">#&gt; B Tr1_StrA Tr1_StrA Tr1_StrA Tr1_StrA Tr1_StrA Tr1_StrA Tr2_StrA Tr2_StrA Tr2_StrA</span></span>
<span><span class="co">#&gt; C Tr1_StrB Tr1_StrB Tr1_StrB Tr1_StrB Tr1_StrB Tr1_StrB Tr2_StrB Tr2_StrB Tr2_StrB</span></span>
<span><span class="co">#&gt; D Tr1_StrB Tr1_StrB Tr1_StrB Tr1_StrB Tr1_StrB Tr1_StrB Tr2_StrB Tr2_StrB Tr2_StrB</span></span>
<span><span class="co">#&gt; E Tr1_StrC Tr1_StrC Tr1_StrC Tr1_StrC Tr1_StrC Tr1_StrC Tr2_StrC Tr2_StrC Tr2_StrC</span></span>
<span><span class="co">#&gt; F Tr1_StrC Tr1_StrC Tr1_StrC Tr1_StrC Tr1_StrC Tr1_StrC Tr2_StrC Tr2_StrC Tr2_StrC</span></span>
<span><span class="co">#&gt; G Tr1_StrD Tr1_StrD Tr1_StrD Tr1_StrD Tr1_StrD Tr1_StrD Tr2_StrD Tr2_StrD Tr2_StrD</span></span>
<span><span class="co">#&gt; H Tr1_StrD Tr1_StrD Tr1_StrD Tr1_StrD Tr1_StrD Tr1_StrD Tr2_StrD Tr2_StrD Tr2_StrD</span></span></code></pre></div>
<p>As before, we have Treatment 1 on the left-hand side, and Treatment 2
on the right-hand side, with Strain A in the first two rows, Strain B in
the next two rows, and so on. However, this information is now pasted
together, with “_” as the separating string (you can use any string as a
separator).</p>
<p>To import this design with <code>import_blockdesigns</code>, we
simply need to specify the <code>sep</code> string, as well as the
output column names. Since the designs have been pasted together, the
column names will result from splitting the designs apart. The easiest
way to specify these split column names is to use the <code>into</code>
argument passed to <code>separate_tidy</code> [if <code>into</code> is
not specified, <code>import_blockdesigns</code> will attempt to split
the <code>block_names</code> (either specified or inferred) with
<code>sep</code> to generate the output column names].</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/import_blockdesigns.html">import_blockdesigns</a></span><span class="op">(</span>files <span class="op">=</span> <span class="st">"mydesign_pasted.csv"</span>, </span>
<span>                      into <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Treatment_numbers"</span>, <span class="st">"Strain_letters"</span><span class="op">)</span>,</span>
<span>                      sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">my_design</span>, <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Well Treatment_numbers Strain_letters</span></span>
<span><span class="co">#&gt; 1    A1               Tr1           StrA</span></span>
<span><span class="co">#&gt; 2    A2               Tr1           StrA</span></span>
<span><span class="co">#&gt; 3    A3               Tr1           StrA</span></span>
<span><span class="co">#&gt; 4    A4               Tr1           StrA</span></span>
<span><span class="co">#&gt; 5    A5               Tr1           StrA</span></span>
<span><span class="co">#&gt; 6    A6               Tr1           StrA</span></span>
<span><span class="co">#&gt; 7    A7               Tr2           StrA</span></span>
<span><span class="co">#&gt; 8    A8               Tr2           StrA</span></span>
<span><span class="co">#&gt; 9    A9               Tr2           StrA</span></span>
<span><span class="co">#&gt; 10  A10               Tr2           StrA</span></span>
<span><span class="co">#&gt; 11  A11               Tr2           StrA</span></span>
<span><span class="co">#&gt; 12  A12               Tr2           StrA</span></span>
<span><span class="co">#&gt; 13   B1               Tr1           StrA</span></span>
<span><span class="co">#&gt; 14   B2               Tr1           StrA</span></span>
<span><span class="co">#&gt; 15   B3               Tr1           StrA</span></span>
<span><span class="co">#&gt; 16   B4               Tr1           StrA</span></span>
<span><span class="co">#&gt; 17   B5               Tr1           StrA</span></span>
<span><span class="co">#&gt; 18   B6               Tr1           StrA</span></span>
<span><span class="co">#&gt; 19   B7               Tr2           StrA</span></span>
<span><span class="co">#&gt; 20   B8               Tr2           StrA</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="importing-tidy-shaped-design-files">Importing tidy-shaped design files<a class="anchor" aria-label="anchor" href="#importing-tidy-shaped-design-files"></a>
</h2>
<p>You can import tidy-shaped designs with <code>read_tidys</code>.</p>
<p><code>read_tidys</code> only requires a filename (or vector of
filenames, or relative file paths) and will return a
<code>data.frame</code> (or list of data.frames) that you can save in
R.</p>
<p>Once these design elements have been read into the <code>R</code>
environment, they are ready to merge.</p>
</div>
<div class="section level2">
<h2 id="merging-growth-curve-data-with-designs">Merging growth curve data with designs<a class="anchor" aria-label="anchor" href="#merging-growth-curve-data-with-designs"></a>
</h2>
<p>Once we have both our design and data in <code>R</code> and
tidy-shaped, we can merge them using <code>merge_dfs</code>.</p>
<p>To demonstrate this, we’ll use the data in the
<code>example_widedata_noiseless</code> dataset that is included with
<code>gcplyr</code>, and which was the source for our previous examples
with <code>import_blockmeasures</code> and <code>read_wides</code>.</p>
<p>In the <code>example_widedata_noiseless</code> dataset, we have 48
different bacterial strains. The left side of the plate has all 48
strains in a single well each, and the right side of the plate also has
all 48 strains in a single well each:</p>
<table class="table">
<colgroup>
<col width="19%">
<col width="17%">
<col width="6%">
<col width="17%">
<col width="17%">
<col width="6%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th>Row names</th>
<th>Column 1</th>
<th>…</th>
<th>Column 6</th>
<th>Column 7</th>
<th>…</th>
<th>Column 12</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Row A</td>
<td>Strain #1</td>
<td>…</td>
<td>Strain #6</td>
<td>Strain #1</td>
<td>…</td>
<td>Strain #6</td>
</tr>
<tr class="even">
<td>Row B</td>
<td>Strain #7</td>
<td>…</td>
<td>Strain #12</td>
<td>Strain #7</td>
<td>…</td>
<td>Strain #12</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="even">
<td>Row G</td>
<td>Strain #37</td>
<td>…</td>
<td>Strain #42</td>
<td>Strain #37</td>
<td>…</td>
<td>Strain #42</td>
</tr>
<tr class="odd">
<td>Row H</td>
<td>Strain #43</td>
<td>…</td>
<td>Strain #48</td>
<td>Strain #43</td>
<td>…</td>
<td>Strain #48</td>
</tr>
</tbody>
</table>
<p>Then, on the right hand side of the plate a phage was also inoculated
(while the left hand side remained bacteria-only):</p>
<table class="table">
<colgroup>
<col width="19%">
<col width="17%">
<col width="6%">
<col width="17%">
<col width="17%">
<col width="6%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th>Row names</th>
<th>Column 1</th>
<th>…</th>
<th>Column 6</th>
<th>Column 7</th>
<th>…</th>
<th>Column 12</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Row A</td>
<td>No Phage</td>
<td>…</td>
<td>No Phage</td>
<td>Phage Added</td>
<td>…</td>
<td>Phage Added</td>
</tr>
<tr class="even">
<td>Row B</td>
<td>No Phage</td>
<td>…</td>
<td>No Phage</td>
<td>Phage Added</td>
<td>…</td>
<td>Phage Added</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="even">
<td>Row G</td>
<td>No Phage</td>
<td>…</td>
<td>No Phage</td>
<td>Phage Added</td>
<td>…</td>
<td>Phage Added</td>
</tr>
<tr class="odd">
<td>Row H</td>
<td>No Phage</td>
<td>…</td>
<td>No Phage</td>
<td>Phage Added</td>
<td>…</td>
<td>Phage Added</td>
</tr>
</tbody>
</table>
<p>Let’s transform the <code>example_widedata_noiseless</code> to
tidy-shaped.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_tidydata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trans_wide_to_tidy.html">trans_wide_to_tidy</a></span><span class="op">(</span><span class="va">example_widedata_noiseless</span>,</span>
<span>                                       id_cols <span class="op">=</span> <span class="st">"Time"</span><span class="op">)</span></span></code></pre></div>
<p><code>gcplyr</code> also includes the design for this data for easy
use:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_design</span> <span class="op">&lt;-</span> <span class="va">example_design_tidy</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">example_design_tidy</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Well Bacteria_strain    Phage</span></span>
<span><span class="co">#&gt; 1   A1        Strain 1 No Phage</span></span>
<span><span class="co">#&gt; 2   A2        Strain 2 No Phage</span></span>
<span><span class="co">#&gt; 3   A3        Strain 3 No Phage</span></span>
<span><span class="co">#&gt; 4   A4        Strain 4 No Phage</span></span>
<span><span class="co">#&gt; 5   A5        Strain 5 No Phage</span></span>
<span><span class="co">#&gt; 6   A6        Strain 6 No Phage</span></span></code></pre></div>
<p>Now that we have our data and designs tidy-shaped, we merge the two
using <code>merge_dfs</code>, saving the result to
<code>ex_dat_mrg</code>, short for example_data_merged.
<code>merge_dfs</code> merges using columns with the same name between
the two data.frames.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_dat_mrg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/merge_dfs.html">merge_dfs</a></span><span class="op">(</span><span class="va">example_tidydata</span>, <span class="va">example_design</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(Well)`</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ex_dat_mrg</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Time Well Measurements Bacteria_strain    Phage</span></span>
<span><span class="co">#&gt; 1    0   A1        0.002        Strain 1 No Phage</span></span>
<span><span class="co">#&gt; 2    0   B1        0.002        Strain 7 No Phage</span></span>
<span><span class="co">#&gt; 3    0   C1        0.002       Strain 13 No Phage</span></span>
<span><span class="co">#&gt; 4    0   D1        0.002       Strain 19 No Phage</span></span>
<span><span class="co">#&gt; 5    0   E1        0.002       Strain 25 No Phage</span></span>
<span><span class="co">#&gt; 6    0   F1        0.002       Strain 31 No Phage</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="whats-next">What’s next?<a class="anchor" aria-label="anchor" href="#whats-next"></a>
</h2>
<p>Now that you’ve merged your data and designs, you can pre-process and
plot your data</p>
<ol style="list-style-type: decimal">
<li>Introduction: <code><a href="../articles/gc01_gcplyr.html">vignette("gc01_gcplyr")</a></code>
</li>
<li>Importing and reshaping data:
<code><a href="../articles/gc02_import_reshape.html">vignette("gc02_import_reshape")</a></code>
</li>
<li>Incorporating experimental designs:
<code><a href="../articles/gc03_incorporate_designs.html">vignette("gc03_incorporate_designs")</a></code>
</li>
<li><strong>Pre-processing and plotting your data:
<code><a href="../articles/gc04_preprocess_plot.html">vignette("gc04_preprocess_plot")</a></code></strong></li>
<li>Processing your data: <code><a href="../articles/gc05_process.html">vignette("gc05_process")</a></code>
</li>
<li>Analyzing your data: <code><a href="../articles/gc06_analyze.html">vignette("gc06_analyze")</a></code>
</li>
<li>Dealing with noise: <code><a href="../articles/gc07_noise.html">vignette("gc07_noise")</a></code>
</li>
<li>Best practices and other tips:
<code><a href="../articles/gc08_conclusion.html">vignette("gc08_conclusion")</a></code>
</li>
<li>Working with multiple plates:
<code><a href="../articles/gc09_multiple_plates.html">vignette("gc09_multiple_plates")</a></code>
</li>
<li>Using make_design to generate experimental designs:
<code><a href="../articles/gc10_using_make_design.html">vignette("gc10_using_make_design")</a></code>
</li>
</ol>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://mikeblazanin.wordpress.com" class="external-link">Mike Blazanin</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
