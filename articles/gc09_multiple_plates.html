<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="gcplyr">
<title>Working with multiple plates • gcplyr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Working with multiple plates">
<meta property="og:description" content="gcplyr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gcplyr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/gc01_gcplyr.html">Introduction</a>
    <a class="dropdown-item" href="../articles/gc02_import_transform.html">Importing and transforming data</a>
    <a class="dropdown-item" href="../articles/gc03_incorporate_designs.html">Incorporating design information</a>
    <a class="dropdown-item" href="../articles/gc04_preprocess_plot.html">Pre-processing and plotting data</a>
    <a class="dropdown-item" href="../articles/gc05_process.html">Processing data</a>
    <a class="dropdown-item" href="../articles/gc06_analyze.html">Analyzing data</a>
    <a class="dropdown-item" href="../articles/gc07_noise.html">Dealing with noise</a>
    <a class="dropdown-item" href="../articles/gc08_conclusion.html">Statistics, merging other data, and other resources</a>
    <a class="dropdown-item" href="../articles/gc09_multiple_plates.html">Working with multiple plates</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mikeblazanin/gcplyr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Working with multiple plates</h1>
                        <h4 data-toc-skip class="author">Mike
Blazanin</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mikeblazanin/gcplyr/blob/HEAD/vignettes/gc09_multiple_plates.Rmd" class="external-link"><code>vignettes/gc09_multiple_plates.Rmd</code></a></small>
      <div class="d-none name"><code>gc09_multiple_plates.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="where-are-we-so-far">Where are we so far?<a class="anchor" aria-label="anchor" href="#where-are-we-so-far"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Introduction: <code><a href="../articles/gc01_gcplyr.html">vignette("gc01_gcplyr")</a></code>
</li>
<li>Importing and transforming data:
<code><a href="../articles/gc02_import_transform.html">vignette("gc02_import_transform")</a></code>
</li>
<li>Incorporating design information:
<code><a href="../articles/gc03_incorporate_designs.html">vignette("gc03_incorporate_designs")</a></code>
</li>
<li>Pre-processing and plotting your data:
<code><a href="../articles/gc04_preprocess_plot.html">vignette("gc04_preprocess_plot")</a></code>
</li>
<li>Processing your data: <code><a href="../articles/gc05_process.html">vignette("gc05_process")</a></code>
</li>
<li>Analyzing your data: <code><a href="../articles/gc06_analyze.html">vignette("gc06_analyze")</a></code>
</li>
<li>Dealing with noise: <code><a href="../articles/gc07_noise.html">vignette("gc07_noise")</a></code>
</li>
<li>Statistics, merging other data, and other resources:
<code><a href="../articles/gc08_conclusion.html">vignette("gc08_conclusion")</a></code>
</li>
<li>
<strong>Working with multiple plates:</strong>
<code><a href="../articles/gc09_multiple_plates.html">vignette("gc09_multiple_plates")</a></code>
</li>
</ol>
<p>So far, we’ve covered everything you can do with <code>gcplyr</code>
with a single plate. In this vignette, I’ll be briefly covering how
<code>gcplyr</code> can also easily handle multiple plates of data at
the same time. I’ll be assuming that you’ve already read the analogous
sections on working with a single plate at a time, so if you haven’t,
now is a good time to go back and do that!</p>
<p>If you haven’t already, load the necessary packages.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mikeblazanin.github.io/gcplyr/">gcplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ## </span></span>
<span><span class="co">#&gt; ## gcplyr (Version 1.7.0, Build Date: 2023-11-03)</span></span>
<span><span class="co">#&gt; ## See http://github.com/mikeblazanin/gcplyr for additional documentation</span></span>
<span><span class="co">#&gt; ## Please cite software as:</span></span>
<span><span class="co">#&gt; ##   Blazanin, Michael. 2023. gcplyr: an R package for microbial growth</span></span>
<span><span class="co">#&gt; ##   curve data analysis. bioRxiv doi: 10.1101/2023.04.30.538883</span></span>
<span><span class="co">#&gt; ##</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="a-brief-primer-on-lists-in-r">A brief primer on lists in R<a class="anchor" aria-label="anchor" href="#a-brief-primer-on-lists-in-r"></a>
</h2>
<p><code>list</code>s are a powerful data format in <code>R</code>,
because they can contain any set of <code>R</code> objects. However,
this can also make them a little more difficult to navigate than simpler
formats like <code>vector</code>s or <code>data.frame</code>s.</p>
<p>Let’s make a simple example to explore how lists can be
navigated.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mylist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mylist</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "A"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] 5 6 7</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    4    7</span></span>
<span><span class="co">#&gt; [2,]    2    5    8</span></span>
<span><span class="co">#&gt; [3,]    3    6    9</span></span></code></pre></div>
<p>We’ve created a list with 3 elements:</p>
<ul>
<li>the first element is a vector with only one entry, “A”</li>
<li>the second element is a vector with three entries</li>
<li>the third element is a matrix with the numbers 1 through 9</li>
</ul>
<p>If we want to extract the contents of any of these elements, we
simply use double brackets <code>[[</code></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mylist</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "A"</span></span>
<span><span class="va">mylist</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] 5 6 7</span></span>
<span><span class="va">mylist</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    4    7</span></span>
<span><span class="co">#&gt; [2,]    2    5    8</span></span>
<span><span class="co">#&gt; [3,]    3    6    9</span></span></code></pre></div>
<p>If we want to modify the contents of any of these elements, we can
also use double brackets</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mylist</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">mylist</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="op">+</span> <span class="fl">7</span></span>
<span><span class="va">mylist</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    8   11   14</span></span>
<span><span class="co">#&gt; [2,]    9   12   15</span></span>
<span><span class="co">#&gt; [3,]   10   13   16</span></span></code></pre></div>
<p>When working with multiple plates, you’ll often be dealing with lists
of <code>data.frame</code>s, rather than the single
<code>data.frame</code>s we’ve been working with before. With multiple
plates, if you want to carry out an operation on only one of the plate
<code>data.frame</code>s, simply use double brackets to select it
specifically. If you want to carry out an operation on all of the
<code>data.frame</code>s, <code>gcplyr</code> functions like
<code>trans_wide_to_tidy</code> and <code>merge_dfs</code> will be able
to handle the list automatically.</p>
</div>
<div class="section level2">
<h2 id="importing-data-for-multiple-plates">Importing data for multiple plates<a class="anchor" aria-label="anchor" href="#importing-data-for-multiple-plates"></a>
</h2>
<p><strong>If your data is block-shaped:</strong> use
<code>import_blockmeasures</code> and start in the next section:
<strong><a href="#reading-files-for-multiple-block-shaped-plates">Reading files for
multiple block-shaped plates</a></strong></p>
<p><strong>If your data is wide-shaped:</strong> use
<code>read_wides</code> and skip down to the <strong><a href="#reading-files-for-multiple-wide-shaped-plates">Reading files for
multiple wide-shaped plates</a></strong> section</p>
</div>
<div class="section level2">
<h2 id="reading-files-for-multiple-block-shaped-plates">Reading files for multiple block-shaped plates<a class="anchor" aria-label="anchor" href="#reading-files-for-multiple-block-shaped-plates"></a>
</h2>
<p>If you’re reading files for multiple block-shaped plates, your
approach depends on how the files themselves are arranged: * Each
plate’s worth of block-shaped files is easily separable (e.g. saved in
different folders) * The files from separate plates are interleaved such
that they are alternating (as is common when multiple plates are read by
a plate-reader robot in a single run)</p>
<div class="section level3">
<h3 id="separated-block-shaped-plate-files">Separated block-shaped plate files<a class="anchor" aria-label="anchor" href="#separated-block-shaped-plate-files"></a>
</h3>
<p>In the first case, you will have to read each plate of files as an
individual plate following the typical process with
<code>import_blockmeasures</code>.</p>
<p>Let’s generate some example files to see how this works. When working
with real growth curve data, these files would be output by the plate
reader.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">filenames_sep</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_example.html">make_example</a></span><span class="op">(</span>vignette <span class="op">=</span> <span class="fl">9</span>, example <span class="op">=</span> <span class="fl">1</span>, dir <span class="op">=</span> <span class="st">"./example_data"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Files have been written</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">filenames_sep</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "./example_data/Plate1-0_00_00.csv" "./example_data/Plate1-0_15_00.csv"</span></span>
<span><span class="co">#&gt; [3] "./example_data/Plate1-0_30_00.csv" "./example_data/Plate1-0_45_00.csv"</span></span>
<span><span class="co">#&gt; [5] "./example_data/Plate1-1_00_00.csv" "./example_data/Plate1-1_15_00.csv"</span></span></code></pre></div>
<p>As we can see, the names for the files have either “Plate1” or
“Plate2” in them. We can use that to simply import them separately. If
you would like to later work with them as a unit, you can save them into
a list.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  plate1 <span class="op">=</span> <span class="fu"><a href="../reference/import_blockmeasures.html">import_blockmeasures</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"./example_data/"</span>, pattern <span class="op">=</span> <span class="st">"Plate1"</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    startrow <span class="op">=</span> <span class="fl">4</span>,</span>
<span>    metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  plate2 <span class="op">=</span> <span class="fu"><a href="../reference/import_blockmeasures.html">import_blockmeasures</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"./example_data/"</span>, pattern <span class="op">=</span> <span class="st">"Plate2"</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    startrow <span class="op">=</span> <span class="fl">4</span>,</span>
<span>    metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="interleaved-block-shaped-plate-files">Interleaved block-shaped plate files<a class="anchor" aria-label="anchor" href="#interleaved-block-shaped-plate-files"></a>
</h3>
<p>In the second case, files from different plates are interleaved
together. You can read and separate them with
<code>import_blockmeasures</code>.</p>
<p>Let’s generate some example files to see how this works. When working
with real growth curve data, these files would be output by the plate
reader.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">filenames_mixed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_example.html">make_example</a></span><span class="op">(</span>vignette <span class="op">=</span> <span class="fl">9</span>, example <span class="op">=</span> <span class="fl">2</span>, dir <span class="op">=</span> <span class="st">"./example_data"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Files have been written</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">filenames_mixed</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "./example_data/00_00_00.csv" "./example_data/00_00_01.csv"</span></span>
<span><span class="co">#&gt; [3] "./example_data/00_15_00.csv" "./example_data/00_15_01.csv"</span></span>
<span><span class="co">#&gt; [5] "./example_data/00_30_00.csv" "./example_data/00_30_01.csv"</span></span></code></pre></div>
<p>In this scenario, there are two plates: the first plate was read
every 15 minutes, and the second plate was read 1 second after each time
the first plate was read. To read them and separate them out, we set the
<code>num_plates</code> argument to the number of plates.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plates</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_blockmeasures.html">import_blockmeasures</a></span><span class="op">(</span></span>
<span>    <span class="va">filenames_mixed</span>,</span>
<span>    startrow <span class="op">=</span> <span class="fl">4</span>,</span>
<span>    metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    num_plates <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>The output is a list, where the first element in the list is a
wide-shaped <code>data.frame</code> for plate #1, and the second element
is a wide-shaped <code>data.frame</code> for plate #2.</p>
</div>
</div>
<div class="section level2">
<h2 id="reading-files-for-multiple-wide-shaped-plates">Reading files for multiple wide-shaped plates<a class="anchor" aria-label="anchor" href="#reading-files-for-multiple-wide-shaped-plates"></a>
</h2>
<p>You can also read multiple wide-shaped datasets. Whether they’re from
a single file, or from multiple files, simply input the corresponding
information and <code>read_wides</code> will return a list containing
each wide-shaped <code>data.frame</code></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/make_example.html">make_example</a></span><span class="op">(</span>vignette <span class="op">=</span> <span class="fl">9</span>, example <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; Files have been written</span></span>
<span><span class="co">#&gt; [1] "./widedata.csv"  "./widedata2.csv"</span></span>
<span></span>
<span><span class="va">plates</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_wides.html">read_wides</a></span><span class="op">(</span>files <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"widedata.csv"</span>, <span class="st">"widedata2.csv"</span><span class="op">)</span>,</span>
<span>           startrow <span class="op">=</span> <span class="fl">5</span>,</span>
<span>           metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Experiment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"B"</span><span class="op">)</span>,</span>
<span>                           Start_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="transforming-multiple-plates-to-tidy-shaped">Transforming multiple plates to tidy-shaped<a class="anchor" aria-label="anchor" href="#transforming-multiple-plates-to-tidy-shaped"></a>
</h2>
<p>Once you have your data in a list of wide-shaped
<code>data.frames</code>, it’s easy to transform it to tidy-shaped.
Assuming all the plates have the same columns, you can simply put the
list into <code>trans_wide_to_tidy</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tidy_plates</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/trans_wide_to_tidy.html">trans_wide_to_tidy</a></span><span class="op">(</span><span class="va">plates</span>,</span>
<span>                     id_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"file"</span>, <span class="st">"Experiment"</span>, <span class="st">"Start_date"</span>, <span class="st">"Time"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The output is a list, where each element of the list is a tidy-shaped
<code>data.frame</code> corresponding to one of the plates.</p>
<p>If you don’t have any designs to merge, you can collapse this list
into a single <code>data.frame</code> with <code>merge_dfs</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tidy_plates_collapsed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/merge_dfs.html">merge_dfs</a></span><span class="op">(</span><span class="va">tidy_plates</span>, collapse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(file, Experiment, Start_date, Time, Well,</span></span>
<span><span class="co">#&gt; Measurements)`</span></span>
<span></span>
<span><span class="fu"><a href="../reference/print_df.html">print_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tidy_plates_collapsed</span><span class="op">)</span>, col.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; file Experiment Start_date Time Well Measurements</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 A1 0.002</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 B1 0.002</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 C1 0.002</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 D1 0.002</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 E1 0.002</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 F1 0.002</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="merging-designs-with-multiple-plates">Merging designs with multiple plates<a class="anchor" aria-label="anchor" href="#merging-designs-with-multiple-plates"></a>
</h2>
<div class="section level3">
<h3 id="plates-with-different-designs">Plates with different designs<a class="anchor" aria-label="anchor" href="#plates-with-different-designs"></a>
</h3>
<p>If you have different designs for each of your plates, you’ll have to
merge them with each plate separately using brackets:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_design1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_design.html">make_design</a></span><span class="op">(</span></span>
<span>  pattern_split <span class="op">=</span> <span class="st">","</span>, nrows <span class="op">=</span> <span class="fl">8</span>, ncols <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  <span class="st">"Bacteria_strain"</span> <span class="op">=</span> <span class="fu"><a href="../reference/make_designpattern.html">make_designpattern</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Strain"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">48</span><span class="op">)</span>,</span>
<span>    rows <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, cols <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, pattern <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">48</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  <span class="st">"Bacteria_strain"</span> <span class="op">=</span> <span class="fu"><a href="../reference/make_designpattern.html">make_designpattern</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Strain"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">48</span><span class="op">)</span>,</span>
<span>    rows <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, cols <span class="op">=</span> <span class="fl">7</span><span class="op">:</span><span class="fl">12</span>, pattern <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">48</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">example_design2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_design.html">make_design</a></span><span class="op">(</span></span>
<span>  pattern_split <span class="op">=</span> <span class="st">","</span>, nrows <span class="op">=</span> <span class="fl">8</span>, ncols <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  <span class="st">"Bacteria_strain"</span> <span class="op">=</span> <span class="fu"><a href="../reference/make_designpattern.html">make_designpattern</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Strain"</span>, <span class="fl">49</span><span class="op">:</span><span class="fl">96</span><span class="op">)</span>,</span>
<span>    rows <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, cols <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, pattern <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">48</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  <span class="st">"Bacteria_strain"</span> <span class="op">=</span> <span class="fu"><a href="../reference/make_designpattern.html">make_designpattern</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Strain"</span>, <span class="fl">49</span><span class="op">:</span><span class="fl">96</span><span class="op">)</span>,</span>
<span>    rows <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, cols <span class="op">=</span> <span class="fl">7</span><span class="op">:</span><span class="fl">12</span>, pattern <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">48</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tidy_plates</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/merge_dfs.html">merge_dfs</a></span><span class="op">(</span><span class="va">tidy_plates</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="va">example_design1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(Well)`</span></span>
<span><span class="va">tidy_plates</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/merge_dfs.html">merge_dfs</a></span><span class="op">(</span><span class="va">tidy_plates</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, <span class="va">example_design2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(Well)`</span></span></code></pre></div>
<p>Then afterwards, you can collapse your data together:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_and_designs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/merge_dfs.html">merge_dfs</a></span><span class="op">(</span><span class="va">tidy_plates</span>, collapse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(file, Experiment, Start_date, Time, Well,</span></span>
<span><span class="co">#&gt; Measurements, Bacteria_strain)`</span></span>
<span><span class="fu"><a href="../reference/print_df.html">print_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data_and_designs</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 A1 0.002  Strain 1</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 B1 0.002  Strain 7</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 C1 0.002 Strain 13</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 D1 0.002 Strain 19</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 E1 0.002 Strain 25</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 F1 0.002 Strain 31</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plates-with-a-shared-design">Plates with a shared design<a class="anchor" aria-label="anchor" href="#plates-with-a-shared-design"></a>
</h3>
<p>If, instead, all your plates have the same design, you can merge the
design with all of them at once by collapsing your list of data in the
merge step. Don’t worry about losing track of your plates, the
<code>file</code> column that is automatically generated should
differentiate the separate plates you read in.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_design.html">make_design</a></span><span class="op">(</span></span>
<span>  pattern_split <span class="op">=</span> <span class="st">","</span>, nrows <span class="op">=</span> <span class="fl">8</span>, ncols <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  <span class="st">"Bacteria_strain"</span> <span class="op">=</span> <span class="fu"><a href="../reference/make_designpattern.html">make_designpattern</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Strain"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">48</span><span class="op">)</span>,</span>
<span>    rows <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, cols <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, pattern <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">48</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  <span class="st">"Bacteria_strain"</span> <span class="op">=</span> <span class="fu"><a href="../reference/make_designpattern.html">make_designpattern</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Strain"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">48</span><span class="op">)</span>,</span>
<span>    rows <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, cols <span class="op">=</span> <span class="fl">7</span><span class="op">:</span><span class="fl">12</span>, pattern <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">48</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_and_designs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/merge_dfs.html">merge_dfs</a></span><span class="op">(</span><span class="va">tidy_plates</span>, <span class="va">example_design</span>, collapse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(file, Experiment, Start_date, Time, Well,</span></span>
<span><span class="co">#&gt; Measurements, Bacteria_strain)`</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(Well, Bacteria_strain)`</span></span>
<span><span class="fu"><a href="../reference/print_df.html">print_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data_and_designs</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 A1 0.002  Strain 1</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 B1 0.002  Strain 7</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 C1 0.002 Strain 13</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 D1 0.002 Strain 19</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 E1 0.002 Strain 25</span></span>
<span><span class="co">#&gt; widedata Experiment_1 2023-11-03 0 F1 0.002 Strain 31</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://mikeblazanin.wordpress.com" class="external-link">Mike Blazanin</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
