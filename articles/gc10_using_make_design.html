<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using make_design to generate experimental designs • gcplyr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using make_design to generate experimental designs">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gcplyr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.12.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/gc01_gcplyr.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/gc02_import_reshape.html">Importing and reshaping data</a></li>
    <li><a class="dropdown-item" href="../articles/gc03_incorporate_designs.html">Incorporating experimental designs</a></li>
    <li><a class="dropdown-item" href="../articles/gc04_preprocess_plot.html">Pre-processing and plotting data</a></li>
    <li><a class="dropdown-item" href="../articles/gc05_process.html">Processing data</a></li>
    <li><a class="dropdown-item" href="../articles/gc06_analyze.html">Analyzing data</a></li>
    <li><a class="dropdown-item" href="../articles/gc07_noise.html">Dealing with noise</a></li>
    <li><a class="dropdown-item" href="../articles/gc08_conclusion.html">Best practices and other tips</a></li>
    <li><a class="dropdown-item" href="../articles/gc09_multiple_plates.html">Working with multiple plates</a></li>
    <li><a class="dropdown-item" href="../articles/gc10_using_make_design.html">Using make_design to generate experimental designs</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mikeblazanin/gcplyr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using make_design to generate experimental designs</h1>
                        <h4 data-toc-skip class="author">Mike
Blazanin</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mikeblazanin/gcplyr/blob/v1.12.0/vignettes/gc10_using_make_design.Rmd" class="external-link"><code>vignettes/gc10_using_make_design.Rmd</code></a></small>
      <div class="d-none name"><code>gc10_using_make_design.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="where-are-we-so-far">Where are we so far?<a class="anchor" aria-label="anchor" href="#where-are-we-so-far"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Introduction: <code><a href="../articles/gc01_gcplyr.html">vignette("gc01_gcplyr")</a></code>
</li>
<li>Importing and reshaping data:
<code><a href="../articles/gc02_import_reshape.html">vignette("gc02_import_reshape")</a></code>
</li>
<li>Incorporating experimental designs:**
<code><a href="../articles/gc03_incorporate_designs.html">vignette("gc03_incorporate_designs")</a></code>
</li>
<li>Pre-processing and plotting your data:
<code><a href="../articles/gc04_preprocess_plot.html">vignette("gc04_preprocess_plot")</a></code>
</li>
<li>Processing your data: <code><a href="../articles/gc05_process.html">vignette("gc05_process")</a></code>
</li>
<li>Analyzing your data: <code><a href="../articles/gc06_analyze.html">vignette("gc06_analyze")</a></code>
</li>
<li>Dealing with noise: <code><a href="../articles/gc07_noise.html">vignette("gc07_noise")</a></code>
</li>
<li>Best practices and other tips:
<code><a href="../articles/gc08_conclusion.html">vignette("gc08_conclusion")</a></code>
</li>
<li>Working with multiple plates:
<code><a href="../articles/gc09_multiple_plates.html">vignette("gc09_multiple_plates")</a></code>
</li>
<li><strong>Using make_design to generate experimental designs:
<code><a href="../articles/gc10_using_make_design.html">vignette("gc10_using_make_design")</a></code></strong></li>
</ol>
<p>In <code><a href="../articles/gc03_incorporate_designs.html">vignette("gc03_incorporate_designs")</a></code>, we focused on
importing designs from files, since that’s the most common way of
creating designs. Here, we’re going to show how designs can
alternatively be generated within <code>R</code> using the
<code>gcplyr</code> function <code>make_design</code>.</p>
<p>If you haven’t already, load the necessary packages.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mikeblazanin.github.io/gcplyr/">gcplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ## </span></span>
<span><span class="co">#&gt; ## gcplyr (Version 1.12.0, Build Date: 2025-07-28)</span></span>
<span><span class="co">#&gt; ## See http://github.com/mikeblazanin/gcplyr for additional documentation</span></span>
<span><span class="co">#&gt; ## Please cite software as:</span></span>
<span><span class="co">#&gt; ##   Blazanin, Michael. gcplyr: an R package for microbial growth</span></span>
<span><span class="co">#&gt; ##   curve data analysis. BMC Bioinformatics 25, 232 (2024).</span></span>
<span><span class="co">#&gt; ##   https://doi.org/10.1186/s12859-024-05817-3</span></span>
<span><span class="co">#&gt; ##</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="including-design-elements">Including design elements<a class="anchor" aria-label="anchor" href="#including-design-elements"></a>
</h2>
<p>As a reminder, <code>gcplyr</code> enables incorporation of design
elements in two ways:</p>
<ol style="list-style-type: decimal">
<li>Designs can be imported from files</li>
<li>Designs can be generated in <code>R</code> using
<code>make_design</code>
</li>
</ol>
<p>For generating designs in <code>R</code>, <code>make_design</code>
can create:</p>
<ul>
<li>block-shaped data.frames with your design information (for saving to
files)</li>
<li>tidy-shaped data.frames with your design information (for saving to
files and merging with tidy-shaped data)</li>
</ul>
<div class="section level3">
<h3 id="an-example-with-a-single-design">An example with a single design<a class="anchor" aria-label="anchor" href="#an-example-with-a-single-design"></a>
</h3>
<p>Let’s start with a simple design.</p>
<p>Imagine you have a 96 well plate (12 columns and 8 rows) with a
different bacterial strain in each row, leaving the first and last rows
and columns empty.</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="16%">
<col width="15%">
<col width="15%">
<col width="15%">
<col width="5%">
<col width="16%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th>Row names</th>
<th>Column 1</th>
<th>Column 2</th>
<th>Column 3</th>
<th>…</th>
<th>Column 11</th>
<th>Column 12</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Row A</td>
<td>Blank</td>
<td>Blank</td>
<td>Blank</td>
<td>…</td>
<td>Blank</td>
<td>Blank</td>
</tr>
<tr class="even">
<td>Row B</td>
<td>Blank</td>
<td>Strain #1</td>
<td>Strain #1</td>
<td>…</td>
<td>Strain #1</td>
<td>Blank</td>
</tr>
<tr class="odd">
<td>Row B</td>
<td>Blank</td>
<td>Strain #2</td>
<td>Strain #2</td>
<td>…</td>
<td>Strain #2</td>
<td>Blank</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>Row G</td>
<td>Blank</td>
<td>Strain #5</td>
<td>Strain #5</td>
<td>…</td>
<td>Strain #5</td>
<td>Blank</td>
</tr>
<tr class="even">
<td>Row G</td>
<td>Blank</td>
<td>Strain #6</td>
<td>Strain #6</td>
<td>…</td>
<td>Strain #6</td>
<td>Blank</td>
</tr>
<tr class="odd">
<td>Row H</td>
<td>Blank</td>
<td>Blank</td>
<td>Blank</td>
<td>…</td>
<td>Blank</td>
<td>Blank</td>
</tr>
</tbody>
</table>
<p>Typing a design like this manually into a spreadsheet can be tedious.
But generating it with <code>make_design</code> is easier.</p>
<p><code>make_design</code> first needs some general information, like
the <code>nrows</code> and <code>ncols</code> in the plate, and the
<code>output_format</code> you’d like (typically <code>blocks</code> or
<code>tidy</code>).</p>
<p>Then, for each different design component, <code>make_design</code>
needs five different pieces of information:</p>
<ul>
<li>a vector containing the possible values</li>
<li>a vector specifying which rows these values should be applied
to</li>
<li>a vector specifying which columns these values should be applied
to</li>
<li>a string or vector of the pattern of these values</li>
<li>a Boolean for whether this pattern should be filled byrow (defaults
to TRUE)</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design_blk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_design.html">make_design</a></span><span class="op">(</span></span>
<span>  output_format <span class="op">=</span> <span class="st">"blocks"</span>,</span>
<span>  nrows <span class="op">=</span> <span class="fl">8</span>, ncols <span class="op">=</span> <span class="fl">12</span>, </span>
<span>  Bacteria <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Str1"</span>, <span class="st">"Str2"</span>, <span class="st">"Str3"</span>, <span class="st">"Str4"</span>, <span class="st">"Str5"</span>, <span class="st">"Str6"</span><span class="op">)</span>,</span>
<span>                  <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,</span>
<span>                  <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>,</span>
<span>                  <span class="st">"123456"</span>,</span>
<span>                  <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>So for our example above, we can see:</p>
<ul>
<li>the possible values are
<code>c("Strain 1", "Strain 2", "Strain 3", "Strain 4", "Strain 5", "Strain 6")</code>
</li>
<li>the rows these values should be applied to are <code>2:7</code>
</li>
<li>the columns these values should be applied to are
<code>2:11</code>
</li>
<li>the pattern these values should be filled in by is
<code>"123456"</code>
</li>
<li>and these values should <em>not</em> be filled by row (they should
be filled by column)</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design_blk</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [[1]]$data</span></span>
<span><span class="co">#&gt;   1  2      3      4      5      6      7      8      9      10     11     12</span></span>
<span><span class="co">#&gt; A NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; B NA "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" NA</span></span>
<span><span class="co">#&gt; C NA "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" NA</span></span>
<span><span class="co">#&gt; D NA "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" NA</span></span>
<span><span class="co">#&gt; E NA "Str4" "Str4" "Str4" "Str4" "Str4" "Str4" "Str4" "Str4" "Str4" "Str4" NA</span></span>
<span><span class="co">#&gt; F NA "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" NA</span></span>
<span><span class="co">#&gt; G NA "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" NA</span></span>
<span><span class="co">#&gt; H NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$metadata</span></span>
<span><span class="co">#&gt; block_name </span></span>
<span><span class="co">#&gt; "Bacteria"</span></span></code></pre></div>
<p>This produces a <code>data.frame</code> with <code>Bacteria</code> as
the <code>block_name</code> in the metadata. If we save this design to a
file or transform it to tidy-shaped, this <code>block_name</code>
metadata will come in handy.</p>
</div>
<div class="section level3">
<h3 id="a-few-notes-on-the-pattern">A few notes on the pattern<a class="anchor" aria-label="anchor" href="#a-few-notes-on-the-pattern"></a>
</h3>
<p>The pattern in <code>make_design</code> is flexible to make it easy
to input designs.</p>
<p><strong>The “0” character is reserved for <code>NA</code>
values</strong>, and can be put into your pattern anywhere you’d like to
have the value be <code>NA</code></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design_blk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_design.html">make_design</a></span><span class="op">(</span></span>
<span>  output_format <span class="op">=</span> <span class="st">"blocks"</span>,</span>
<span>  nrows <span class="op">=</span> <span class="fl">8</span>, ncols <span class="op">=</span> <span class="fl">12</span>, </span>
<span>  Bacteria <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Str1"</span>, <span class="st">"Str2"</span>, <span class="st">"Str3"</span>, </span>
<span>                    <span class="st">"Str4"</span>, <span class="st">"Str5"</span>, <span class="st">"Str6"</span><span class="op">)</span>,</span>
<span>                  <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,</span>
<span>                  <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>,</span>
<span>                  <span class="st">"123056"</span>,</span>
<span>                  <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">my_design_blk</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [[1]]$data</span></span>
<span><span class="co">#&gt;   1  2      3      4      5      6      7      8      9      10     11     12</span></span>
<span><span class="co">#&gt; A NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; B NA "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" NA</span></span>
<span><span class="co">#&gt; C NA "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" NA</span></span>
<span><span class="co">#&gt; D NA "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" NA</span></span>
<span><span class="co">#&gt; E NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; F NA "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" NA</span></span>
<span><span class="co">#&gt; G NA "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" NA</span></span>
<span><span class="co">#&gt; H NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$metadata</span></span>
<span><span class="co">#&gt; block_name </span></span>
<span><span class="co">#&gt; "Bacteria"</span></span></code></pre></div>
<p>In the previous examples, I used the numbers 1 through 6 to
correspond to our values. If you have more than 9 values, you can use
letters too. By default, the order is numbers first, then uppercase
letters, then lowercase letters (so “A” is the 10th index). However, if
you’d like to only use letters, you can simply specify a different
<code>lookup_tbl_start</code> so that <code>make_design</code> knows
what letter you’re using as the <code>1</code> index.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design_blk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_design.html">make_design</a></span><span class="op">(</span></span>
<span>  output_format <span class="op">=</span> <span class="st">"blocks"</span>,</span>
<span>  nrows <span class="op">=</span> <span class="fl">8</span>, ncols <span class="op">=</span> <span class="fl">12</span>, lookup_tbl_start <span class="op">=</span> <span class="st">"A"</span>,</span>
<span>  Bacteria <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Str1"</span>, <span class="st">"Str2"</span>, <span class="st">"Str3"</span>, <span class="st">"Str4"</span>, <span class="st">"Str5"</span>, <span class="st">"Str6"</span><span class="op">)</span>,</span>
<span>    <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,</span>
<span>    <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>,</span>
<span>    <span class="st">"ABCDEF"</span>,</span>
<span>    <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You can also specify the pattern as a vector rather than a
string.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design_blk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_design.html">make_design</a></span><span class="op">(</span></span>
<span>  output_format <span class="op">=</span> <span class="st">"blocks"</span>,</span>
<span>  nrows <span class="op">=</span> <span class="fl">8</span>, ncols <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  Bacteria <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Str1"</span>, <span class="st">"Str2"</span>, <span class="st">"Str3"</span>, <span class="st">"Str4"</span>, <span class="st">"Str5"</span>, <span class="st">"Str6"</span><span class="op">)</span>,</span>
<span>    <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,</span>
<span>    <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>,</span>
<span>    <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="continuing-with-the-example-multiple-designs">Continuing with the example: multiple designs<a class="anchor" aria-label="anchor" href="#continuing-with-the-example-multiple-designs"></a>
</h3>
<p>Now let’s return to our example growth curve experiment. <em>In
addition</em> to having a different bacterial strain in each row, we now
also have a different media in each column of the plate.</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="16%">
<col width="15%">
<col width="15%">
<col width="15%">
<col width="5%">
<col width="16%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th>Row names</th>
<th>Column 1</th>
<th>Column 2</th>
<th>Column 3</th>
<th>…</th>
<th>Column 11</th>
<th>Column 12</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Row A</td>
<td>Blank</td>
<td>Blank</td>
<td>Blank</td>
<td>…</td>
<td>Blank</td>
<td>Blank</td>
</tr>
<tr class="even">
<td>Row B</td>
<td>Blank</td>
<td>Media #1</td>
<td>Media #2</td>
<td>…</td>
<td>Media #10</td>
<td>Blank</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="even">
<td>Row G</td>
<td>Blank</td>
<td>Media #1</td>
<td>Media #2</td>
<td>…</td>
<td>Media #10</td>
<td>Blank</td>
</tr>
<tr class="odd">
<td>Row H</td>
<td>Blank</td>
<td>Blank</td>
<td>Blank</td>
<td>…</td>
<td>Blank</td>
<td>Blank</td>
</tr>
</tbody>
</table>
<p>We can generate both designs with <code>make_design</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design_blk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_design.html">make_design</a></span><span class="op">(</span></span>
<span>  output_format <span class="op">=</span> <span class="st">"blocks"</span>,</span>
<span>  nrows <span class="op">=</span> <span class="fl">8</span>, ncols <span class="op">=</span> <span class="fl">12</span>, lookup_tbl_start <span class="op">=</span> <span class="st">"a"</span>,</span>
<span>  Bacteria <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Str1"</span>, <span class="st">"Str2"</span>, <span class="st">"Str3"</span>, </span>
<span>                    <span class="st">"Str4"</span>, <span class="st">"Str5"</span>, <span class="st">"Str6"</span><span class="op">)</span>,</span>
<span>                  <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,</span>
<span>                  <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>,</span>
<span>                  <span class="st">"abcdef"</span>,</span>
<span>                  <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  Media <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Med1"</span>, <span class="st">"Med2"</span>, <span class="st">"Med3"</span>,</span>
<span>                 <span class="st">"Med4"</span>, <span class="st">"Med5"</span>, <span class="st">"Med6"</span>,</span>
<span>                 <span class="st">"Med7"</span>, <span class="st">"Med8"</span>, <span class="st">"Med9"</span>,</span>
<span>                 <span class="st">"Med10"</span>, <span class="st">"Med11"</span>, <span class="st">"Med12"</span><span class="op">)</span>,</span>
<span>               <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,</span>
<span>               <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>,</span>
<span>               <span class="st">"abcdefghij"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">my_design_blk</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [[1]]$data</span></span>
<span><span class="co">#&gt;   1  2      3      4      5      6      7      8      9      10     11     12</span></span>
<span><span class="co">#&gt; A NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; B NA "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" NA</span></span>
<span><span class="co">#&gt; C NA "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" NA</span></span>
<span><span class="co">#&gt; D NA "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" NA</span></span>
<span><span class="co">#&gt; E NA "Str4" "Str4" "Str4" "Str4" "Str4" "Str4" "Str4" "Str4" "Str4" "Str4" NA</span></span>
<span><span class="co">#&gt; F NA "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" NA</span></span>
<span><span class="co">#&gt; G NA "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" NA</span></span>
<span><span class="co">#&gt; H NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$metadata</span></span>
<span><span class="co">#&gt; block_name </span></span>
<span><span class="co">#&gt; "Bacteria" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [[2]]$data</span></span>
<span><span class="co">#&gt;   1  2      3      4      5      6      7      8      9      10     11      12</span></span>
<span><span class="co">#&gt; A NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA      NA</span></span>
<span><span class="co">#&gt; B NA "Med1" "Med2" "Med3" "Med4" "Med5" "Med6" "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; C NA "Med1" "Med2" "Med3" "Med4" "Med5" "Med6" "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; D NA "Med1" "Med2" "Med3" "Med4" "Med5" "Med6" "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; E NA "Med1" "Med2" "Med3" "Med4" "Med5" "Med6" "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; F NA "Med1" "Med2" "Med3" "Med4" "Med5" "Med6" "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; G NA "Med1" "Med2" "Med3" "Med4" "Med5" "Med6" "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; H NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA      NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]$metadata</span></span>
<span><span class="co">#&gt; block_name </span></span>
<span><span class="co">#&gt;    "Media"</span></span></code></pre></div>
<p>However, the real strength of <code>make_design</code> is that it is
not limited to simple alternating patterns. <code>make_design</code> can
use irregular patterns too, replicating them as needed to fill all the
wells.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design_blk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_design.html">make_design</a></span><span class="op">(</span></span>
<span>  output_format <span class="op">=</span> <span class="st">"blocks"</span>,</span>
<span>  nrows <span class="op">=</span> <span class="fl">8</span>, ncols <span class="op">=</span> <span class="fl">12</span>, lookup_tbl_start <span class="op">=</span> <span class="st">"a"</span>,</span>
<span>  Bacteria <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Str1"</span>, <span class="st">"Str2"</span><span class="op">)</span>,</span>
<span>                  <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,</span>
<span>                  <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>,</span>
<span>                  <span class="st">"abaaabbbab"</span>,</span>
<span>                  <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  Media <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Med1"</span>, <span class="st">"Med2"</span>, <span class="st">"Med3"</span><span class="op">)</span>,</span>
<span>               <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>,</span>
<span>               <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>,</span>
<span>               <span class="st">"aabbbc000abc"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_design_blk</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [[1]]$data</span></span>
<span><span class="co">#&gt;   1  2      3      4      5      6      7      8      9      10     11     12</span></span>
<span><span class="co">#&gt; A NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; B NA "Str1" "Str2" "Str1" "Str1" "Str1" "Str1" "Str2" "Str1" "Str1" "Str1" NA</span></span>
<span><span class="co">#&gt; C NA "Str2" "Str2" "Str1" "Str2" "Str2" "Str2" "Str2" "Str1" "Str2" "Str2" NA</span></span>
<span><span class="co">#&gt; D NA "Str1" "Str1" "Str1" "Str1" "Str2" "Str1" "Str1" "Str1" "Str1" "Str2" NA</span></span>
<span><span class="co">#&gt; E NA "Str1" "Str2" "Str2" "Str2" "Str2" "Str1" "Str2" "Str2" "Str2" "Str2" NA</span></span>
<span><span class="co">#&gt; F NA "Str1" "Str1" "Str2" "Str1" "Str1" "Str1" "Str1" "Str2" "Str1" "Str1" NA</span></span>
<span><span class="co">#&gt; G NA "Str2" "Str2" "Str2" "Str1" "Str2" "Str2" "Str2" "Str2" "Str1" "Str2" NA</span></span>
<span><span class="co">#&gt; H NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$metadata</span></span>
<span><span class="co">#&gt; block_name </span></span>
<span><span class="co">#&gt; "Bacteria" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [[2]]$data</span></span>
<span><span class="co">#&gt;   1  2      3      4      5      6      7      8      9      10     11     12</span></span>
<span><span class="co">#&gt; A NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; B NA "Med1" "Med1" "Med2" "Med2" "Med2" "Med3" NA     NA     NA     "Med1" NA</span></span>
<span><span class="co">#&gt; C NA "Med2" "Med3" "Med1" "Med1" "Med2" "Med2" "Med2" "Med3" NA     NA     NA</span></span>
<span><span class="co">#&gt; D NA NA     "Med1" "Med2" "Med3" "Med1" "Med1" "Med2" "Med2" "Med2" "Med3" NA</span></span>
<span><span class="co">#&gt; E NA NA     NA     NA     "Med1" "Med2" "Med3" "Med1" "Med1" "Med2" "Med2" NA</span></span>
<span><span class="co">#&gt; F NA "Med2" "Med3" NA     NA     NA     "Med1" "Med2" "Med3" "Med1" "Med1" NA</span></span>
<span><span class="co">#&gt; G NA "Med2" "Med2" "Med2" "Med3" NA     NA     NA     "Med1" "Med2" "Med3" NA</span></span>
<span><span class="co">#&gt; H NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]$metadata</span></span>
<span><span class="co">#&gt; block_name </span></span>
<span><span class="co">#&gt;    "Media"</span></span></code></pre></div>
<p>There is also an optional helper function called
<code>make_designpattern</code>, or <code>mdp</code> for short.
<code>make_designpattern</code> just reminds us what arguments are
necessary for each design. For example:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design_blk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_design.html">make_design</a></span><span class="op">(</span></span>
<span>  output_format <span class="op">=</span> <span class="st">"blocks"</span>,</span>
<span>  nrows <span class="op">=</span> <span class="fl">8</span>, ncols <span class="op">=</span> <span class="fl">12</span>, lookup_tbl_start <span class="op">=</span> <span class="st">"a"</span>,</span>
<span>  Bacteria <span class="op">=</span> <span class="fu"><a href="../reference/make_designpattern.html">mdp</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Str1"</span>, <span class="st">"Str2"</span>, <span class="st">"Str3"</span>, </span>
<span>               <span class="st">"Str4"</span>, <span class="st">"Str5"</span>, <span class="st">"Str6"</span><span class="op">)</span>,</span>
<span>    rows <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>, cols <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>, pattern <span class="op">=</span> <span class="st">"abc0ef"</span>,</span>
<span>    byrow <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  Media <span class="op">=</span> <span class="fu"><a href="../reference/make_designpattern.html">mdp</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Med1"</span>, <span class="st">"Med2"</span>, <span class="st">"Med3"</span>,</span>
<span>               <span class="st">"Med4"</span>, <span class="st">"Med5"</span>, <span class="st">"Med6"</span>,</span>
<span>               <span class="st">"Med7"</span>, <span class="st">"Med8"</span>, <span class="st">"Med9"</span>,</span>
<span>               <span class="st">"Med10"</span>, <span class="st">"Med11"</span>, <span class="st">"Med12"</span><span class="op">)</span>,</span>
<span>    rows <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>, cols <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>, pattern <span class="op">=</span> <span class="st">"abcde0ghij"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_design_blk</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [[1]]$data</span></span>
<span><span class="co">#&gt;   1  2      3      4      5      6      7      8      9      10     11     12</span></span>
<span><span class="co">#&gt; A NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; B NA "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" "Str1" NA</span></span>
<span><span class="co">#&gt; C NA "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" "Str2" NA</span></span>
<span><span class="co">#&gt; D NA "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" "Str3" NA</span></span>
<span><span class="co">#&gt; E NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; F NA "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" "Str5" NA</span></span>
<span><span class="co">#&gt; G NA "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" "Str6" NA</span></span>
<span><span class="co">#&gt; H NA NA     NA     NA     NA     NA     NA     NA     NA     NA     NA     NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$metadata</span></span>
<span><span class="co">#&gt; block_name </span></span>
<span><span class="co">#&gt; "Bacteria" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [[2]]$data</span></span>
<span><span class="co">#&gt;   1  2      3      4      5      6      7  8      9      10     11      12</span></span>
<span><span class="co">#&gt; A NA NA     NA     NA     NA     NA     NA NA     NA     NA     NA      NA</span></span>
<span><span class="co">#&gt; B NA "Med1" "Med2" "Med3" "Med4" "Med5" NA "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; C NA "Med1" "Med2" "Med3" "Med4" "Med5" NA "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; D NA "Med1" "Med2" "Med3" "Med4" "Med5" NA "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; E NA "Med1" "Med2" "Med3" "Med4" "Med5" NA "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; F NA "Med1" "Med2" "Med3" "Med4" "Med5" NA "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; G NA "Med1" "Med2" "Med3" "Med4" "Med5" NA "Med7" "Med8" "Med9" "Med10" NA</span></span>
<span><span class="co">#&gt; H NA NA     NA     NA     NA     NA     NA NA     NA     NA     NA      NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]$metadata</span></span>
<span><span class="co">#&gt; block_name </span></span>
<span><span class="co">#&gt;    "Media"</span></span></code></pre></div>
<p><strong>For merging our designs with plate reader data, we need it
tidy-shaped</strong>, so we just need to change the
<code>output_format</code> to <code>tidy</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_design_tdy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_design.html">make_design</a></span><span class="op">(</span></span>
<span>  output_format <span class="op">=</span> <span class="st">"tidy"</span>,</span>
<span>  nrows <span class="op">=</span> <span class="fl">8</span>, ncols <span class="op">=</span> <span class="fl">12</span>, lookup_tbl_start <span class="op">=</span> <span class="st">"a"</span>,</span>
<span>  Bacteria <span class="op">=</span> <span class="fu"><a href="../reference/make_designpattern.html">mdp</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Str1"</span>, <span class="st">"Str2"</span>, <span class="st">"Str3"</span>, </span>
<span>               <span class="st">"Str4"</span>, <span class="st">"Str5"</span>, <span class="st">"Str6"</span><span class="op">)</span>,</span>
<span>    rows <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>, cols <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>, pattern <span class="op">=</span> <span class="st">"abc0ef"</span>,</span>
<span>    byrow <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  Media <span class="op">=</span> <span class="fu"><a href="../reference/make_designpattern.html">mdp</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Med1"</span>, <span class="st">"Med2"</span>, <span class="st">"Med3"</span>,</span>
<span>               <span class="st">"Med4"</span>, <span class="st">"Med5"</span>, <span class="st">"Med6"</span>,</span>
<span>               <span class="st">"Med7"</span>, <span class="st">"Med8"</span>, <span class="st">"Med9"</span>,</span>
<span>               <span class="st">"Med10"</span>, <span class="st">"Med11"</span>, <span class="st">"Med12"</span><span class="op">)</span>,</span>
<span>    rows <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">7</span>, cols <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">11</span>, pattern <span class="op">=</span> <span class="st">"abcde0ghij"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Inferred 'into' column names as: Bacteria, Media</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">my_design_tdy</span>, <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Well Bacteria Media</span></span>
<span><span class="co">#&gt; 1    A1     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2    A2     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3    A3     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4    A4     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5    A5     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6    A6     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 7    A7     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 8    A8     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 9    A9     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 10  A10     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 11  A11     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 12  A12     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 13   B1     &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 14   B2     Str1  Med1</span></span>
<span><span class="co">#&gt; 15   B3     Str1  Med2</span></span>
<span><span class="co">#&gt; 16   B4     Str1  Med3</span></span>
<span><span class="co">#&gt; 17   B5     Str1  Med4</span></span>
<span><span class="co">#&gt; 18   B6     Str1  Med5</span></span>
<span><span class="co">#&gt; 19   B7     Str1  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 20   B8     Str1  Med7</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="saving-designs-to-files">Saving designs to files<a class="anchor" aria-label="anchor" href="#saving-designs-to-files"></a>
</h3>
<p>If you’d like to save the designs you’ve created with
<code>make_design</code> to files, you just need to decide if you’d like
them tidy-shaped or block-shaped. Both formats can easily be read back
into <code>R</code> by <code>gcplyr</code>.</p>
<div class="section level4">
<h4 id="saving-tidy-shaped-designs">Saving tidy-shaped designs<a class="anchor" aria-label="anchor" href="#saving-tidy-shaped-designs"></a>
</h4>
<p>These design files will be less human-readable, but easier to import
and merge. Additionally, tidy-shaped files are often better for data
repositories, like Dryad. To save tidy-shaped designs, simply use the
built-in <code>write.csv</code> function.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#See the previous section where we created my_design_tdy</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">my_design_tdy</span>, file <span class="op">=</span> <span class="st">"tidy_design.csv"</span>,</span>
<span>          row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="saving-block-shaped-designs">Saving block-shaped designs<a class="anchor" aria-label="anchor" href="#saving-block-shaped-designs"></a>
</h4>
<p>These design files will be more human-readable but slightly more
computationally involved to import and merge. For these, use the
<code>gcplyr</code> function <code>write_blocks</code>. Typically,
you’ll use <code>write_blocks</code> to save files in one of two
formats:</p>
<ul>
<li>
<code>multiple</code> - each block will be saved to its own
<code>.csv</code> file</li>
<li>
<code>single</code> - all the blocks will be saved to a single
<code>.csv</code> file, with an empty row in between them</li>
</ul>
<div class="section level5">
<h5 id="saving-block-shaped-designs-to-multiple-files">Saving block-shaped designs to multiple files<a class="anchor" aria-label="anchor" href="#saving-block-shaped-designs-to-multiple-files"></a>
</h5>
<p>The default setting for <code>write_blocks</code> is
<code>output_format = 'multiple'</code>. This creates one
<code>csv</code> file for each block. If we set
<code>file = NULL</code>, the default is to name the files according to
the <code>block_names</code> in the metadata.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># See the previous section where we created my_design_blk</span></span>
<span><span class="fu"><a href="../reference/write_blocks.html">write_blocks</a></span><span class="op">(</span><span class="va">my_design_blk</span>, file <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's see what the files look like</span></span>
<span><span class="fu"><a href="../reference/print_df.html">print_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"Bacteria.csv"</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   1    2    3    4    5    6    7    8    9   10   11 12</span></span>
<span><span class="co">#&gt; A                                                       </span></span>
<span><span class="co">#&gt; B   Str1 Str1 Str1 Str1 Str1 Str1 Str1 Str1 Str1 Str1   </span></span>
<span><span class="co">#&gt; C   Str2 Str2 Str2 Str2 Str2 Str2 Str2 Str2 Str2 Str2   </span></span>
<span><span class="co">#&gt; D   Str3 Str3 Str3 Str3 Str3 Str3 Str3 Str3 Str3 Str3   </span></span>
<span><span class="co">#&gt; E                                                       </span></span>
<span><span class="co">#&gt; F   Str5 Str5 Str5 Str5 Str5 Str5 Str5 Str5 Str5 Str5   </span></span>
<span><span class="co">#&gt; G   Str6 Str6 Str6 Str6 Str6 Str6 Str6 Str6 Str6 Str6   </span></span>
<span><span class="co">#&gt; H</span></span>
<span></span>
<span><span class="fu"><a href="../reference/print_df.html">print_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"Media.csv"</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   1    2    3    4    5    6 7    8    9   10    11 12</span></span>
<span><span class="co">#&gt; A                                                     </span></span>
<span><span class="co">#&gt; B   Med1 Med2 Med3 Med4 Med5   Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt; C   Med1 Med2 Med3 Med4 Med5   Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt; D   Med1 Med2 Med3 Med4 Med5   Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt; E   Med1 Med2 Med3 Med4 Med5   Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt; F   Med1 Med2 Med3 Med4 Med5   Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt; G   Med1 Med2 Med3 Med4 Med5   Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt; H</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="saving-block-shaped-designs-to-a-single-file">Saving block-shaped designs to a single file<a class="anchor" aria-label="anchor" href="#saving-block-shaped-designs-to-a-single-file"></a>
</h5>
<p>The other setting for <code>write_blocks</code> is
<code>output_format = 'single'</code>. This creates a single
<code>csv</code> file that contains all the blocks, putting metadata
like <code>block_names</code> in rows that precede each block.</p>
<p>Let’s take a look what the <code>single</code> output format looks
like:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># See the previous section where we created my_design_blk</span></span>
<span><span class="fu"><a href="../reference/write_blocks.html">write_blocks</a></span><span class="op">(</span><span class="va">my_design_blk</span>, file <span class="op">=</span> <span class="st">"Design.csv"</span>, output_format <span class="op">=</span> <span class="st">"single"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's see what the file looks like</span></span>
<span><span class="fu"><a href="../reference/print_df.html">print_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"Design.csv"</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; block_name Bacteria                                                      </span></span>
<span><span class="co">#&gt;                   1    2    3    4    5    6    7    8    9   10    11 12</span></span>
<span><span class="co">#&gt;          A                                                               </span></span>
<span><span class="co">#&gt;          B          Str1 Str1 Str1 Str1 Str1 Str1 Str1 Str1 Str1  Str1   </span></span>
<span><span class="co">#&gt;          C          Str2 Str2 Str2 Str2 Str2 Str2 Str2 Str2 Str2  Str2   </span></span>
<span><span class="co">#&gt;          D          Str3 Str3 Str3 Str3 Str3 Str3 Str3 Str3 Str3  Str3   </span></span>
<span><span class="co">#&gt;          E                                                               </span></span>
<span><span class="co">#&gt;          F          Str5 Str5 Str5 Str5 Str5 Str5 Str5 Str5 Str5  Str5   </span></span>
<span><span class="co">#&gt;          G          Str6 Str6 Str6 Str6 Str6 Str6 Str6 Str6 Str6  Str6   </span></span>
<span><span class="co">#&gt;          H                                                               </span></span>
<span><span class="co">#&gt;                                                                          </span></span>
<span><span class="co">#&gt; block_name    Media                                                      </span></span>
<span><span class="co">#&gt;                   1    2    3    4    5    6    7    8    9   10    11 12</span></span>
<span><span class="co">#&gt;          A                                                               </span></span>
<span><span class="co">#&gt;          B          Med1 Med2 Med3 Med4 Med5      Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt;          C          Med1 Med2 Med3 Med4 Med5      Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt;          D          Med1 Med2 Med3 Med4 Med5      Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt;          E          Med1 Med2 Med3 Med4 Med5      Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt;          F          Med1 Med2 Med3 Med4 Med5      Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt;          G          Med1 Med2 Med3 Med4 Med5      Med7 Med8 Med9 Med10   </span></span>
<span><span class="co">#&gt;          H</span></span></code></pre></div>
<p>Here we can see all our design information has been saved to a single
file, and the metadata has been added in rows before each block.</p>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="merging-growth-curve-data-with-designs">Merging growth curve data with designs<a class="anchor" aria-label="anchor" href="#merging-growth-curve-data-with-designs"></a>
</h2>
<p>Once we have both our design and data in <code>R</code> and
tidy-shaped, we can merge them just the same way as described in
<code><a href="../articles/gc03_incorporate_designs.html">vignette("gc03_incorporate_designs")</a></code></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://mikeblazanin.wordpress.com" class="external-link">Mike Blazanin</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
