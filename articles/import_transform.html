<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="gcplyr">
<title>Importing &amp; transforming data • gcplyr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Importing &amp; transforming data">
<meta property="og:description" content="gcplyr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gcplyr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.12.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/introduction.html">Introduction to using gcplyr</a>
    <a class="dropdown-item" href="../articles/import_transform.html">Importing &amp; transforming data</a>
    <a class="dropdown-item" href="../articles/incorporate_designs.html">Incorporating design information</a>
    <a class="dropdown-item" href="../articles/preprocess_plot.html">Pre-processing and plotting data</a>
    <a class="dropdown-item" href="../articles/process.html">Processing data</a>
    <a class="dropdown-item" href="../articles/analyze.html">Analyzing data</a>
    <a class="dropdown-item" href="../articles/conclusion.html">Statistics, merging other data, and other resources</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Importing &amp; transforming data</h1>
                        <h4 data-toc-skip class="author">Mike
Blazanin</h4>
            
      
      
      <div class="d-none name"><code>import_transform.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Introduction</li>
<li><strong>Importing &amp; transforming data</strong></li>
<li>Incorporating design information</li>
<li>Pre-processing and plotting your data</li>
<li>Processing your data</li>
<li>Analyzing your data</li>
<li>Statistics, merging other data, and other resources</li>
</ol>
<p>If you haven’t already, load the necessary packages.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mikeblazanin.github.io/gcplyr/">gcplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ## </span></span>
<span><span class="co">#&gt; ## gcplyr (Version 0.12.1, Build Date: 2023-01-22)</span></span>
<span><span class="co">#&gt; ## See http://github.com/mikeblazanin/gcplyr for additional documentation</span></span>
<span><span class="co">#&gt; ## Please cite software as:</span></span>
<span><span class="co">#&gt; ##   Blazanin, Michael. 2023. 'gcplyr: manipulate and analyze growth</span></span>
<span><span class="co">#&gt; ##   curve data.' R package version 0.12.1</span></span>
<span><span class="co">#&gt; ##</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-layouts">Data layouts<a class="anchor" aria-label="anchor" href="#data-layouts"></a>
</h2>
<p>With that demonstration done, let’s dig into some more details of how
your input data might be organized and what <code>gcplyr</code> does.
Growth curve data and design elements can be organized in one of three
different tabular layouts: block-shaped, wide-shaped, and tidy-shaped,
described below.</p>
<p>Tidy-shaped data is the best layout for analyses, but most plate
readers output block-shaped or wide-shaped data, and most user-created
design files will be block-shaped. Thus, <code>gcplyr</code> works by
reshaping block-shaped into wide-shaped data, and wide-shaped data into
tidy-shaped data, then running any analyses.</p>
<p>So, what are these three data layouts, and how can you tell which of
them your data is in?</p>
<p><strong>Block-shaped</strong></p>
<p>In block-shaped data, the organization of the data corresponds
directly with the layout of the physical multi-well plate it was
generated from. For instance, a data point from the third row and fourth
column of the <code>data.frame</code> will be from the well in the third
row and fourth column in the physical plate. Because of this, a
timeseries of growth curve data that is block-shaped will consist of
many separate block-shaped data.frames, each corresponding to a single
timepoint.</p>
<p>For example, here is a block-shaped <code>data.frame</code> of a
96-well plate (with “…” indicating Columns 4 - 10, not shown). In this
example, all the data shown would be from a single timepoint.</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="16%">
<col width="15%">
<col width="15%">
<col width="15%">
<col width="5%">
<col width="16%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th></th>
<th>Column 1</th>
<th>Column 2</th>
<th>Column 3</th>
<th>…</th>
<th>Column 11</th>
<th>Column 12</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Row A</strong></td>
<td>0.060</td>
<td>0.083</td>
<td>0.086</td>
<td>…</td>
<td>0.082</td>
<td>0.085</td>
</tr>
<tr class="even">
<td><strong>Row B</strong></td>
<td>0.099</td>
<td>0.069</td>
<td>0.065</td>
<td>…</td>
<td>0.066</td>
<td>0.078</td>
</tr>
<tr class="odd">
<td><strong>Row C</strong></td>
<td>0.081</td>
<td>0.071</td>
<td>0.070</td>
<td>…</td>
<td>0.064</td>
<td>0.084</td>
</tr>
<tr class="even">
<td><strong>Row D</strong></td>
<td>0.094</td>
<td>0.075</td>
<td>0.065</td>
<td>…</td>
<td>0.067</td>
<td>0.087</td>
</tr>
<tr class="odd">
<td><strong>Row E</strong></td>
<td>0.052</td>
<td>0.054</td>
<td>0.072</td>
<td>…</td>
<td>0.079</td>
<td>0.065</td>
</tr>
<tr class="even">
<td><strong>Row F</strong></td>
<td>0.087</td>
<td>0.095</td>
<td>0.091</td>
<td>…</td>
<td>0.075</td>
<td>0.058</td>
</tr>
<tr class="odd">
<td><strong>Row G</strong></td>
<td>0.095</td>
<td>0.079</td>
<td>0.099</td>
<td>…</td>
<td>0.063</td>
<td>0.075</td>
</tr>
<tr class="even">
<td><strong>Row H</strong></td>
<td>0.056</td>
<td>0.069</td>
<td>0.070</td>
<td>…</td>
<td>0.053</td>
<td>0.078</td>
</tr>
</tbody>
</table>
<p><strong>Wide-shaped</strong></p>
<p>In wide-shaped data, each column of the dataframe corresponds to a
single well from the plate, and each row of the dataframe corresponds to
a single timepoint. Typically, headers contain the well names.</p>
<p>For example, here is a wide-shaped dataframe of a 96-well plate
(here, “…” indicates the 91 columns A4 - H10, not shown). Each row of
this dataframe corresponds to a single timepoint.</p>
<table class="table">
<thead><tr class="header">
<th>Time</th>
<th>A1</th>
<th>A2</th>
<th>A3</th>
<th>…</th>
<th>H11</th>
<th>H12</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>0.060</td>
<td>0.083</td>
<td>0.086</td>
<td>…</td>
<td>0.053</td>
<td>0.078</td>
</tr>
<tr class="even">
<td>1</td>
<td>0.012</td>
<td>0.166</td>
<td>0.172</td>
<td>…</td>
<td>0.106</td>
<td>0.156</td>
</tr>
<tr class="odd">
<td>2</td>
<td>0.024</td>
<td>0.332</td>
<td>0.344</td>
<td>…</td>
<td>0.212</td>
<td>0.312</td>
</tr>
<tr class="even">
<td>3</td>
<td>0.048</td>
<td>0.664</td>
<td>0.688</td>
<td>…</td>
<td>0.424</td>
<td>0.624</td>
</tr>
<tr class="odd">
<td>4</td>
<td>0.096</td>
<td>1.128</td>
<td>0.976</td>
<td>…</td>
<td>0.848</td>
<td>1.148</td>
</tr>
<tr class="even">
<td>5</td>
<td>0.162</td>
<td>1.256</td>
<td>1.152</td>
<td>…</td>
<td>1.096</td>
<td>1.296</td>
</tr>
<tr class="odd">
<td>6</td>
<td>0.181</td>
<td>1.292</td>
<td>1.204</td>
<td>…</td>
<td>1.192</td>
<td>1.352</td>
</tr>
<tr class="even">
<td>7</td>
<td>0.197</td>
<td>1.324</td>
<td>1.288</td>
<td>…</td>
<td>1.234</td>
<td>1.394</td>
</tr>
</tbody>
</table>
<p><strong>Tidy-shaped</strong></p>
<p>In tidy-shaped data, there is a single column that contains all the
plate reader measurements, with each unique measurement having its own
row. Additional columns specify the timepoint, which well the data comes
from, and any other design elements.</p>
<p>Note that, in tidy-shaped data, the number of rows equals the number
of wells times the number of timepoints. For instance, with a 96 well
plate and 100 timepoints, that will be 9600 rows. (Yes, that’s a lot of
rows! But don’t worry, tidy-shaped data is the best format for
downstream analyses.) Tidy-shaped data is common in a number of
<code>R</code> packages, including <code>ggplot</code>, where it’s
sometimes called a “long” format. If you want to read more about
tidy-shaped data and why it’s ideal for analyses, see: Wickham, Hadley.
Tidy data. The Journal of Statistical Software, vol. 59, 2014.</p>
<table class="table">
<thead><tr class="header">
<th>Timepoint</th>
<th>Well</th>
<th>Measurement</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>A1</td>
<td>0.060</td>
</tr>
<tr class="even">
<td>1</td>
<td>A2</td>
<td>0.083</td>
</tr>
<tr class="odd">
<td>1</td>
<td>A3</td>
<td>0.086</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>7</td>
<td>H10</td>
<td>1.113</td>
</tr>
<tr class="even">
<td>7</td>
<td>H11</td>
<td>1.234</td>
</tr>
<tr class="odd">
<td>7</td>
<td>H12</td>
<td>1.394</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="importing-data">Importing data<a class="anchor" aria-label="anchor" href="#importing-data"></a>
</h2>
<p>Once you’ve determined what format your data is in, you can begin
importing it using the <code>read_*</code> or <code>import_*</code>
functions of <code>gcplyr</code>.</p>
<p><strong>If your data is block-shaped:</strong> use
<code>import_blockmeasures</code> and start in the next section:
<strong><a href="#importing-block-shaped-data">Importing block-shaped
data</a></strong></p>
<p><strong>If your data is wide-shaped:</strong> use
<code>read_wides</code> and skip down to the <strong><a href="#importing-wide-shaped-data">Importing wide-shaped
data</a></strong> section</p>
<p><strong>If your data is already tidy-shaped:</strong> use
<code>read_tidys</code> and skip down to the <strong><a href="#importing-tidy-shaped-data">Importing tidy-shaped
data</a></strong> section.</p>
<div class="section level3">
<h3 id="importing-block-shaped-data">Importing block-shaped data<a class="anchor" aria-label="anchor" href="#importing-block-shaped-data"></a>
</h3>
<p>To import block-shaped data, use the
<code>import_blockmeasures</code> function.
<code>import_blockmeasures</code> only requires a list of filenames (or
relative file paths) and <strong>will return a wide-shaped
data.frame</strong> that you can save in R.</p>
<div class="section level4">
<h4 id="a-basic-example">A basic example<a class="anchor" aria-label="anchor" href="#a-basic-example"></a>
</h4>
<p>Here’s a simple example. First, we need to create a series of example
block-shaped <code>.csv</code> files. <strong>Don’t worry how this code
works</strong>. When working with real growth curve data, these files
would be output by the plate reader. All you need to do is put the file
names in <code>R</code> in a vector, here we’ve stored the file names in
<code>temp_filenames</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#This code just creates a series of block-shaped example files</span></span>
<span><span class="co">#Don't worry about how it works - when working with real growth</span></span>
<span><span class="co">#curves data, all these files would be created by the plate reader</span></span>
<span><span class="va">temp_filenames</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Plate1-"</span>, </span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">example_widedata</span><span class="op">$</span><span class="va">Time</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%/%</a></span> <span class="fl">3600</span>,</span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/formatc.html" class="external-link">formatC</a></span><span class="op">(</span><span class="op">(</span><span class="va">example_widedata</span><span class="op">$</span><span class="va">Time</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">3600</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%/%</a></span> <span class="fl">60</span>, </span>
<span>                      width <span class="op">=</span> <span class="fl">2</span>, flag <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/formatc.html" class="external-link">formatC</a></span><span class="op">(</span><span class="op">(</span><span class="va">example_widedata</span><span class="op">$</span><span class="va">Time</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">3600</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">60</span>,</span>
<span>                      width <span class="op">=</span> <span class="fl">2</span>, flag <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>              sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span>, <span class="st">".csv"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">temp_filenames</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">temp_filenames</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">temp_filenames</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, split <span class="op">=</span> <span class="st">"\\\\"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">temp_filenames</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, split <span class="op">=</span> <span class="st">"\\\\"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="op">}</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">temp_filenames</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.table</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span>, <span class="st">"F"</span>, <span class="st">"G"</span>, <span class="st">"H"</span><span class="op">)</span>, </span>
<span>             nrow <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">""</span>, <span class="fl">12</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Time"</span>, <span class="va">example_widedata</span><span class="op">$</span><span class="va">Time</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">""</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">""</span>, <span class="fl">12</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, ncol <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>              <span class="op">(</span><span class="va">example_widedata</span><span class="op">[</span><span class="va">i</span>, <span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">example_widedata</span><span class="op">)</span><span class="op">]</span><span class="op">/</span><span class="op">(</span><span class="fl">5</span><span class="op">*</span><span class="fl">10</span><span class="op">**</span><span class="fl">8</span><span class="op">)</span><span class="op">)</span>,</span>
<span>              ncol <span class="op">=</span> <span class="fl">12</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span>, </span>
<span>    file <span class="op">=</span> <span class="va">temp_filenames</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, quote <span class="op">=</span> <span class="cn">FALSE</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span>, sep <span class="op">=</span> <span class="st">","</span>,</span>
<span>    col.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>If you’ve saved all the files to a single folder, you can easily get
a vector with all their names using <code>list.files</code>. If your
folder contains other files, you can specify a regular expression
<code>pattern</code> to limit it to just those you want to import:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Here we print all the files we're going to read</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"Plate1.*csv"</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "Plate1-0_00_00.csv"  "Plate1-0_15_00.csv"  "Plate1-0_30_00.csv" </span></span>
<span><span class="co">#&gt;  [4] "Plate1-0_45_00.csv"  "Plate1-1_00_00.csv"  "Plate1-1_15_00.csv" </span></span>
<span><span class="co">#&gt;  [7] "Plate1-1_30_00.csv"  "Plate1-1_45_00.csv"  "Plate1-10_00_00.csv"</span></span>
<span><span class="co">#&gt; [10] "Plate1-10_15_00.csv" "Plate1-10_30_00.csv" "Plate1-10_45_00.csv"</span></span>
<span><span class="co">#&gt; [13] "Plate1-11_00_00.csv" "Plate1-11_15_00.csv" "Plate1-11_30_00.csv"</span></span>
<span><span class="co">#&gt; [16] "Plate1-11_45_00.csv" "Plate1-12_00_00.csv" "Plate1-12_15_00.csv"</span></span>
<span><span class="co">#&gt; [19] "Plate1-12_30_00.csv" "Plate1-12_45_00.csv" "Plate1-13_00_00.csv"</span></span>
<span><span class="co">#&gt; [22] "Plate1-13_15_00.csv" "Plate1-13_30_00.csv" "Plate1-13_45_00.csv"</span></span>
<span><span class="co">#&gt; [25] "Plate1-14_00_00.csv" "Plate1-14_15_00.csv" "Plate1-14_30_00.csv"</span></span>
<span><span class="co">#&gt; [28] "Plate1-14_45_00.csv" "Plate1-15_00_00.csv" "Plate1-15_15_00.csv"</span></span>
<span><span class="co">#&gt; [31] "Plate1-15_30_00.csv" "Plate1-15_45_00.csv" "Plate1-16_00_00.csv"</span></span>
<span><span class="co">#&gt; [34] "Plate1-16_15_00.csv" "Plate1-16_30_00.csv" "Plate1-16_45_00.csv"</span></span>
<span><span class="co">#&gt; [37] "Plate1-17_00_00.csv" "Plate1-17_15_00.csv" "Plate1-17_30_00.csv"</span></span>
<span><span class="co">#&gt; [40] "Plate1-17_45_00.csv" "Plate1-18_00_00.csv" "Plate1-18_15_00.csv"</span></span>
<span><span class="co">#&gt; [43] "Plate1-18_30_00.csv" "Plate1-18_45_00.csv" "Plate1-19_00_00.csv"</span></span>
<span><span class="co">#&gt; [46] "Plate1-19_15_00.csv" "Plate1-19_30_00.csv" "Plate1-19_45_00.csv"</span></span>
<span><span class="co">#&gt; [49] "Plate1-2_00_00.csv"  "Plate1-2_15_00.csv"  "Plate1-2_30_00.csv" </span></span>
<span><span class="co">#&gt; [52] "Plate1-2_45_00.csv"  "Plate1-20_00_00.csv" "Plate1-20_15_00.csv"</span></span>
<span><span class="co">#&gt; [55] "Plate1-20_30_00.csv" "Plate1-20_45_00.csv" "Plate1-21_00_00.csv"</span></span>
<span><span class="co">#&gt; [58] "Plate1-21_15_00.csv" "Plate1-21_30_00.csv" "Plate1-21_45_00.csv"</span></span>
<span><span class="co">#&gt; [61] "Plate1-22_00_00.csv" "Plate1-22_15_00.csv" "Plate1-22_30_00.csv"</span></span>
<span><span class="co">#&gt; [64] "Plate1-22_45_00.csv" "Plate1-23_00_00.csv" "Plate1-23_15_00.csv"</span></span>
<span><span class="co">#&gt; [67] "Plate1-23_30_00.csv" "Plate1-23_45_00.csv" "Plate1-24_00_00.csv"</span></span>
<span><span class="co">#&gt; [70] "Plate1-3_00_00.csv"  "Plate1-3_15_00.csv"  "Plate1-3_30_00.csv" </span></span>
<span><span class="co">#&gt; [73] "Plate1-3_45_00.csv"  "Plate1-4_00_00.csv"  "Plate1-4_15_00.csv" </span></span>
<span><span class="co">#&gt; [76] "Plate1-4_30_00.csv"  "Plate1-4_45_00.csv"  "Plate1-5_00_00.csv" </span></span>
<span><span class="co">#&gt; [79] "Plate1-5_15_00.csv"  "Plate1-5_30_00.csv"  "Plate1-5_45_00.csv" </span></span>
<span><span class="co">#&gt; [82] "Plate1-6_00_00.csv"  "Plate1-6_15_00.csv"  "Plate1-6_30_00.csv" </span></span>
<span><span class="co">#&gt; [85] "Plate1-6_45_00.csv"  "Plate1-7_00_00.csv"  "Plate1-7_15_00.csv" </span></span>
<span><span class="co">#&gt; [88] "Plate1-7_30_00.csv"  "Plate1-7_45_00.csv"  "Plate1-8_00_00.csv" </span></span>
<span><span class="co">#&gt; [91] "Plate1-8_15_00.csv"  "Plate1-8_30_00.csv"  "Plate1-8_45_00.csv" </span></span>
<span><span class="co">#&gt; [94] "Plate1-9_00_00.csv"  "Plate1-9_15_00.csv"  "Plate1-9_30_00.csv" </span></span>
<span><span class="co">#&gt; [97] "Plate1-9_45_00.csv"</span></span>
<span></span>
<span><span class="co">#Here we save them to the temp_filenames variable</span></span>
<span><span class="va">temp_filenames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"Plate1.*csv"</span><span class="op">)</span></span></code></pre></div>
<p>Here’s what one of the files looks like (where the values are
absorbance/optical density):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">print_df</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">temp_filenames</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                                                                               </span></span>
<span><span class="co">#&gt;    Time       0                                                                               </span></span>
<span><span class="co">#&gt;                                                                                               </span></span>
<span><span class="co">#&gt;       1       2     3       4       5       6       7       8        9      10      11      12</span></span>
<span><span class="co">#&gt; A 6e-12   4e-12 6e-12   6e-12   4e-12   6e-12   4e-12   4e-12    4e-12   4e-12   4e-12   4e-12</span></span>
<span><span class="co">#&gt; B 2e-12   4e-12 6e-12   4e-12   5e-11   4e-12 2.8e-11   4e-12 1.26e-10   6e-12   2e-12   6e-12</span></span>
<span><span class="co">#&gt; C 4e-12 3.4e-11 6e-12   4e-12   4e-12   2e-12   6e-12   4e-12    4e-12   4e-12   6e-12   6e-12</span></span>
<span><span class="co">#&gt; D 4e-12   2e-12 6e-12   6e-12   4e-12   4e-12   6e-12   4e-12    6e-12   4e-12   4e-12   2e-12</span></span>
<span><span class="co">#&gt; E 4e-12   4e-12 6e-12   6e-12   4e-12   4e-12   2e-12   4e-12    6e-12   2e-12 6.2e-11   6e-12</span></span>
<span><span class="co">#&gt; F 2e-12   4e-12 4e-12   2e-12   6e-12 1.4e-11   4e-12   4e-12    6e-12 2.2e-11   2e-12   4e-12</span></span>
<span><span class="co">#&gt; G 4e-12   6e-12 4e-12   6e-12 7.8e-11   6e-12   2e-12   2e-12    6e-12 7.2e-11   2e-12   6e-12</span></span>
<span><span class="co">#&gt; H 4e-12   2e-12 4e-12 3.8e-11   6e-12   6e-12   2e-12 1.2e-10    4e-12   2e-12   2e-12 3.8e-11</span></span></code></pre></div>
<p>This file corresponds to all the reads for a single plate taken at
the very first timepoint. We can see that the second row of the file
contains some metadata about the timepoint when this plate read read was
taken. Then, the data itself starts with column headers on row 4 and
rownames in column 1.</p>
<p>If we want to read these files into <code>R</code>, we simply provide
<code>import_blockmeasures</code> with the vector of file names, and
save the result to some <code>R</code> object (here,
<code>imported_blockdata</code>). Since our data doesn’t start on the
first row and column of the file, we simply need to specify what
row/column it does start on using the <code>startrow</code>,
<code>startcol</code>, <code>endrow</code>, and <code>endcol</code>
arguments. (<code>import_blockmeasures</code> assumes that your data
starts on the first row and column and ends on the last row and column,
so you don’t have to specify when your data meets those criteria).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Now let's read it with import_blockmeasures</span></span>
<span><span class="va">imported_blockdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_blockmeasures.html">import_blockmeasures</a></span><span class="op">(</span></span>
<span>  files <span class="op">=</span> <span class="va">temp_filenames</span>, startrow <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">imported_blockdata</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       block_name       A1      A2      A3       A4      A5      A6      A7</span></span>
<span><span class="co">#&gt; 1 Plate1-0_00_00    6e-12 4.0e-12   6e-12  6.0e-12 4.0e-12 6.0e-12 4.0e-12</span></span>
<span><span class="co">#&gt; 2 Plate1-0_15_00 1.36e-10   2e-12 2.0e-12 4.00e-12   6e-12 4.0e-12   4e-12</span></span>
<span><span class="co">#&gt; 3 Plate1-0_30_00    4e-12 4.0e-12   2e-12    4e-12 2.0e-12   6e-12   6e-12</span></span>
<span><span class="co">#&gt; 4 Plate1-0_45_00    4e-12   4e-12 3.6e-11    4e-12 3.6e-11   4e-12 4.0e-12</span></span>
<span><span class="co">#&gt; 5 Plate1-1_00_00    4e-12   6e-12 3.2e-11  4.0e-12 4.0e-12   4e-12   4e-12</span></span>
<span><span class="co">#&gt; 6 Plate1-1_15_00    4e-12   4e-12   6e-12    4e-12 4.0e-12 4.0e-12   6e-12</span></span></code></pre></div>
<p>Here we can see that import_blockmeasures has created a wide-shaped R
object containing the data from all of our reads. It has also added the
file names under the <code>block_name</code> column, so that we can
easily track which row came from which file.</p>
<p>If you’re looking at your data in Excel or a similar spreadsheet
program, you’ll notice that the columns aren’t nicely numbered. Instead,
they’re coded by letter. Rather than have to count by hand what columns
your data starts and ends on, just specify the column by letter and
<code>import_blockmeasures</code> will translate that to a number for
you! (in this example we don’t have to specify a start column, since the
data starts in the first column, but I do so just to show this
letter-style functionality).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#We can specify rows or columns by Excel-style letters too</span></span>
<span><span class="va">imported_blockdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_blockmeasures.html">import_blockmeasures</a></span><span class="op">(</span></span>
<span>  files <span class="op">=</span> <span class="va">temp_filenames</span>,</span>
<span>  startrow <span class="op">=</span> <span class="fl">4</span>, startcol <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="specifying-metadata">Specifying metadata<a class="anchor" aria-label="anchor" href="#specifying-metadata"></a>
</h4>
<p>Sometimes, your input files will have information you want to import
that’s not included in the main block of data. For instance, with
block-shaped data the timepoint is nearly always specified somewhere in
the input file. <code>import_blockmeasures</code> can include that
information as well via the <code>metadata</code> argument.</p>
<p>For example, let’s return to our most-recent example files:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">print_df</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">temp_filenames</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                                                                               </span></span>
<span><span class="co">#&gt;    Time       0                                                                               </span></span>
<span><span class="co">#&gt;                                                                                               </span></span>
<span><span class="co">#&gt;       1       2     3       4       5       6       7       8        9      10      11      12</span></span>
<span><span class="co">#&gt; A 6e-12   4e-12 6e-12   6e-12   4e-12   6e-12   4e-12   4e-12    4e-12   4e-12   4e-12   4e-12</span></span>
<span><span class="co">#&gt; B 2e-12   4e-12 6e-12   4e-12   5e-11   4e-12 2.8e-11   4e-12 1.26e-10   6e-12   2e-12   6e-12</span></span>
<span><span class="co">#&gt; C 4e-12 3.4e-11 6e-12   4e-12   4e-12   2e-12   6e-12   4e-12    4e-12   4e-12   6e-12   6e-12</span></span>
<span><span class="co">#&gt; D 4e-12   2e-12 6e-12   6e-12   4e-12   4e-12   6e-12   4e-12    6e-12   4e-12   4e-12   2e-12</span></span>
<span><span class="co">#&gt; E 4e-12   4e-12 6e-12   6e-12   4e-12   4e-12   2e-12   4e-12    6e-12   2e-12 6.2e-11   6e-12</span></span>
<span><span class="co">#&gt; F 2e-12   4e-12 4e-12   2e-12   6e-12 1.4e-11   4e-12   4e-12    6e-12 2.2e-11   2e-12   4e-12</span></span>
<span><span class="co">#&gt; G 4e-12   6e-12 4e-12   6e-12 7.8e-11   6e-12   2e-12   2e-12    6e-12 7.2e-11   2e-12   6e-12</span></span>
<span><span class="co">#&gt; H 4e-12   2e-12 4e-12 3.8e-11   6e-12   6e-12   2e-12 1.2e-10    4e-12   2e-12   2e-12 3.8e-11</span></span></code></pre></div>
<p>In these files, the timepoint information was located in the 2nd row
and 3rd column. Here’s how we could specify that metadata in our
<code>import_blockmeasures</code> command:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Reading the blockcurves files with metadata included</span></span>
<span><span class="va">imported_blockdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_blockmeasures.html">import_blockmeasures</a></span><span class="op">(</span></span>
<span>  files <span class="op">=</span> <span class="va">temp_filenames</span>,</span>
<span>  startrow <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"time"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">imported_blockdata</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       block_name time       A1      A2      A3       A4      A5      A6</span></span>
<span><span class="co">#&gt; 1 Plate1-0_00_00    0    6e-12 4.0e-12   6e-12  6.0e-12 4.0e-12 6.0e-12</span></span>
<span><span class="co">#&gt; 2 Plate1-0_15_00  900 1.36e-10   2e-12 2.0e-12 4.00e-12   6e-12 4.0e-12</span></span>
<span><span class="co">#&gt; 3 Plate1-0_30_00 1800    4e-12 4.0e-12   2e-12    4e-12 2.0e-12   6e-12</span></span>
<span><span class="co">#&gt; 4 Plate1-0_45_00 2700    4e-12   4e-12 3.6e-11    4e-12 3.6e-11   4e-12</span></span>
<span><span class="co">#&gt; 5 Plate1-1_00_00 3600    4e-12   6e-12 3.2e-11  4.0e-12 4.0e-12   4e-12</span></span>
<span><span class="co">#&gt; 6 Plate1-1_15_00 4500    4e-12   4e-12   6e-12    4e-12 4.0e-12 4.0e-12</span></span></code></pre></div>
<p>You can see that the metadata you specified has been added as a
column in our output <code>data.frame</code>. When specifying metadata,
the metadata argument must be a list of named vectors. Each vector
should have two elements specifying the location of the metadata in the
input files: the first element is the row, the second element is the
column.</p>
<p>And just like how you can specify <code>startrow</code>,
<code>startcol</code>, etc. with Excel-style lettering, the location of
metadata can also be specified with Excel-style lettering.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Reading the blockcurves files with metadata included</span></span>
<span><span class="va">imported_blockdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_blockmeasures.html">import_blockmeasures</a></span><span class="op">(</span></span>
<span>  files <span class="op">=</span> <span class="va">temp_filenames</span>,</span>
<span>  startrow <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"time"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="reading-multiple-blocks-from-a-single-file">Reading multiple blocks from a single file<a class="anchor" aria-label="anchor" href="#reading-multiple-blocks-from-a-single-file"></a>
</h4>
<p><code>import_blockmeasures</code> can also import multiple blocks
from a single file, which some plate readers may output. In this case,
you simply have to specify a vector of rows and columns that define the
location of each block within the file.</p>
<p>First, let’s create an example file. <strong>Don’t worry about how
this code works</strong>, normally this file would be created by the
plate reader.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#This code just creates an example file with multiple blocks</span></span>
<span><span class="co">#Don't worry about how it works - when working with real growth</span></span>
<span><span class="co">#curves data, this would be created by the plate reader</span></span>
<span><span class="fu"><a href="../reference/write_blocks.html">write_blocks</a></span><span class="op">(</span><span class="fu"><a href="../reference/read_blocks.html">read_blocks</a></span><span class="op">(</span>files <span class="op">=</span> <span class="va">temp_filenames</span>,</span>
<span>                         startrow <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                         metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"time"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>             file <span class="op">=</span> <span class="st">"blocks_single.csv"</span>,</span>
<span>             output_format <span class="op">=</span> <span class="st">"single"</span>,</span>
<span>             block_name_location <span class="op">=</span> <span class="st">"file"</span><span class="op">)</span></span></code></pre></div>
<p>Let’s take a look at what the file looks like:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">print_df</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"blocks_single.csv"</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                       colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; block_name Plate1-0_00_00                                                 </span></span>
<span><span class="co">#&gt;       time              0                                                 </span></span>
<span><span class="co">#&gt;                         1       2       3        4       5       6       7</span></span>
<span><span class="co">#&gt;          A          6e-12   4e-12   6e-12    6e-12   4e-12   6e-12   4e-12</span></span>
<span><span class="co">#&gt;          B          2e-12   4e-12   6e-12    4e-12   5e-11   4e-12 2.8e-11</span></span>
<span><span class="co">#&gt;          C          4e-12 3.4e-11   6e-12    4e-12   4e-12   2e-12   6e-12</span></span>
<span><span class="co">#&gt;          D          4e-12   2e-12   6e-12    6e-12   4e-12   4e-12   6e-12</span></span>
<span><span class="co">#&gt;          E          4e-12   4e-12   6e-12    6e-12   4e-12   4e-12   2e-12</span></span>
<span><span class="co">#&gt;          F          2e-12   4e-12   4e-12    2e-12   6e-12 1.4e-11   4e-12</span></span>
<span><span class="co">#&gt;          G          4e-12   6e-12   4e-12    6e-12 7.8e-11   6e-12   2e-12</span></span>
<span><span class="co">#&gt;          H          4e-12   2e-12   4e-12  3.8e-11   6e-12   6e-12   2e-12</span></span>
<span><span class="co">#&gt;                                                                           </span></span>
<span><span class="co">#&gt; block_name Plate1-0_15_00                                                 </span></span>
<span><span class="co">#&gt;       time            900                                                 </span></span>
<span><span class="co">#&gt;                         1       2       3        4       5       6       7</span></span>
<span><span class="co">#&gt;          A       1.36e-10   2e-12   2e-12    4e-12   6e-12   4e-12   4e-12</span></span>
<span><span class="co">#&gt;          B          4e-12   1e-10   4e-12 1.44e-10   6e-12   2e-12   4e-12</span></span>
<span><span class="co">#&gt;          C          4e-12   6e-12   2e-12    4e-12   4e-12 3.6e-11   2e-12</span></span>
<span><span class="co">#&gt;          D          2e-12   4e-12 1.6e-10    4e-12   2e-12   4e-12   6e-12</span></span>
<span><span class="co">#&gt;          E          4e-12   4e-12   2e-12  1.2e-11   2e-12   2e-12   4e-12</span></span></code></pre></div>
<p>We can see that the first block has some metadata above it, then the
block of data itself. After that there’s an empty row before the next
block starts. In fact, if we look at the whole file, we’ll notice that
all the blocks go from column 1 (“A” in Excel) to column 13 (“M” in
Excel), they start on rows 3, 15, 27, 39, etc, and end on rows 11, 23,
35, 47, etc. When we look in the file, we can also see that the very
last block starts on row 1155 and ends on row 1163. Let’s read this
information in using <code>import_blockmeasures</code> (in this example
we don’t <em>have</em> to specify a start column, since the data starts
in the first column, but I do to be explicit):</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imported_blockdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_blockmeasures.html">import_blockmeasures</a></span><span class="op">(</span></span>
<span>  <span class="st">"blocks_single.csv"</span>,</span>
<span>  startrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">3</span>, to <span class="op">=</span> <span class="fl">1155</span>, by <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>  endrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">11</span>, to <span class="op">=</span> <span class="fl">1163</span>, by <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>  startcol <span class="op">=</span> <span class="fl">1</span>, endcol <span class="op">=</span> <span class="fl">13</span><span class="op">)</span></span></code></pre></div>
<p>Here we’ve used the built-in <code>R</code> function <code>seq</code>
to generate the full vector of <code>startrow</code>s and
<code>endrow</code>s. If we take a look, we can see that it’s been read
successfully:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">imported_blockdata</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      block_name       A1      A2      A3       A4      A5      A6      A7</span></span>
<span><span class="co">#&gt; 1 blocks_single    6e-12 4.0e-12   6e-12  6.0e-12 4.0e-12 6.0e-12 4.0e-12</span></span>
<span><span class="co">#&gt; 2 blocks_single 1.36e-10   2e-12 2.0e-12 4.00e-12   6e-12 4.0e-12   4e-12</span></span>
<span><span class="co">#&gt; 3 blocks_single    4e-12 4.0e-12   2e-12    4e-12 2.0e-12   6e-12   6e-12</span></span>
<span><span class="co">#&gt; 4 blocks_single    4e-12   4e-12 3.6e-11    4e-12 3.6e-11   4e-12 4.0e-12</span></span>
<span><span class="co">#&gt; 5 blocks_single    4e-12   6e-12 3.2e-11  4.0e-12 4.0e-12   4e-12   4e-12</span></span>
<span><span class="co">#&gt; 6 blocks_single    4e-12   4e-12   6e-12    4e-12 4.0e-12 4.0e-12   6e-12</span></span></code></pre></div>
<p>Now let’s add some metadata. Because we’re reading from a single
file, we need to specify the metadata slightly differently. Instead of
the metadata being a single vector <code>c(row,column)</code> with the
location, it’s going to be a list of two vectors, one with the row
numbers, and one with the column numbers.</p>
<p>Going back to the file, we can see that the time of the block is
saved in the second column, in rows 2, 14, 26, 38, … through 1154.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imported_blockdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_blockmeasures.html">import_blockmeasures</a></span><span class="op">(</span></span>
<span>  <span class="st">"blocks_single.csv"</span>,</span>
<span>  startrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">3</span>, to <span class="op">=</span> <span class="fl">1155</span>, by <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>  endrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">11</span>, to <span class="op">=</span> <span class="fl">1163</span>, by <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>  startcol <span class="op">=</span> <span class="fl">1</span>, endcol <span class="op">=</span> <span class="fl">13</span>,</span>
<span>  metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"time"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">2</span>, to <span class="op">=</span> <span class="fl">1154</span>, by <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>And now if we take a look at the resulting object, we can see that
the time metadata has been incorporated.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">imported_blockdata</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      block_name time       A1      A2      A3       A4      A5      A6</span></span>
<span><span class="co">#&gt; 1 blocks_single    0    6e-12 4.0e-12   6e-12  6.0e-12 4.0e-12 6.0e-12</span></span>
<span><span class="co">#&gt; 2 blocks_single  900 1.36e-10   2e-12 2.0e-12 4.00e-12   6e-12 4.0e-12</span></span>
<span><span class="co">#&gt; 3 blocks_single 1800    4e-12 4.0e-12   2e-12    4e-12 2.0e-12   6e-12</span></span>
<span><span class="co">#&gt; 4 blocks_single 2700    4e-12   4e-12 3.6e-11    4e-12 3.6e-11   4e-12</span></span>
<span><span class="co">#&gt; 5 blocks_single 3600    4e-12   6e-12 3.2e-11  4.0e-12 4.0e-12   4e-12</span></span>
<span><span class="co">#&gt; 6 blocks_single 4500    4e-12   4e-12   6e-12    4e-12 4.0e-12 4.0e-12</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="notes-for-more-advanced-use">Notes for more advanced use<a class="anchor" aria-label="anchor" href="#notes-for-more-advanced-use"></a>
</h4>
<p>Note that <code>import_blockmeasures</code> is essentially a wrapper
function that calls <code>read_blocks</code>, <code>uninterleave</code>,
and <code>trans_block_to_wide</code>. Any arguments for those functions
can be passed to <code>import_blockmeasures</code>.</p>
<p>If you find yourself needing even more control over the process of
importing block-shaped measures files, each of the functions is
available for users to call themselves. So you can run the steps
manually, first reading with <code>read_blocks</code>, separating plates
as needed with <code>uninterleave</code>, then transforming to wide with
<code>trans_block_to_wide</code>.</p>
</div>
<div class="section level4">
<h4 id="what-to-do-next">What to do next<a class="anchor" aria-label="anchor" href="#what-to-do-next"></a>
</h4>
<p>Now that you’ve imported your block-shaped data, you’ll need to
transform it for later analyses. Jump directly to the <strong><a href="#transforming-data">Transforming data</a></strong> section.</p>
</div>
</div>
<div class="section level3">
<h3 id="importing-wide-shaped-data">Importing wide-shaped data<a class="anchor" aria-label="anchor" href="#importing-wide-shaped-data"></a>
</h3>
<p>To import wide-shaped data, use the <code>read_wides</code> function.
<code>read_wides</code> only requires a filename (or vector of
filenames, or relative file paths) and will return a
<code>data.frame</code> (or list of data.frames) that you can save in
R.</p>
<div class="section level4">
<h4 id="a-basic-example-1">A basic example<a class="anchor" aria-label="anchor" href="#a-basic-example-1"></a>
</h4>
<p>Here’s a simple example. First, we need to create an example
wide-shaped .csv file. <strong>Don’t worry how this code works</strong>.
When working with real growth curve data, these files would be output by
the plate reader. All you need to do is know the file name(s) to put in
you <code>R</code> code. In this example, the file name is
<code>widedata.csv</code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#This code just creates a wide-shaped example file where the data doesn't</span></span>
<span><span class="co">#start on the first row.</span></span>
<span><span class="co">#Don't worry about how it works - when working with real growth</span></span>
<span><span class="co">#curves data, this file would be created by the plate reader</span></span>
<span><span class="va">temp_example_widedata</span> <span class="op">&lt;-</span> <span class="va">example_widedata</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">temp_example_widedata</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"V"</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">temp_example_widedata</span><span class="op">)</span>,</span>
<span>                                         sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="va">modified_example_widedata</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="st">""</span>, nrow <span class="op">=</span> <span class="fl">4</span>, ncol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">example_widedata</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">example_widedata</span><span class="op">)</span>,</span>
<span>    <span class="va">temp_example_widedata</span><span class="op">)</span></span>
<span><span class="va">modified_example_widedata</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Experiment name"</span>, <span class="st">"Start date"</span>, <span class="st">"Experiment_1"</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.table</a></span><span class="op">(</span><span class="va">modified_example_widedata</span>, file <span class="op">=</span> <span class="st">"widedata.csv"</span>, </span>
<span>          row.names <span class="op">=</span> <span class="cn">FALSE</span>, col.names <span class="op">=</span> <span class="cn">FALSE</span>, sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.table</a></span><span class="op">(</span><span class="va">modified_example_widedata</span>, file <span class="op">=</span> <span class="st">"widedata2.csv"</span>, </span>
<span>          row.names <span class="op">=</span> <span class="cn">FALSE</span>, col.names <span class="op">=</span> <span class="cn">FALSE</span>, sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span></code></pre></div>
<p>Here’s what the start of the file looks like (where the values are
absorbance/optical density):</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Let's take a peek at what this file looks like</span></span>
<span><span class="fu">print_df</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"widedata.csv"</span>, header <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                       colClasses <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span>, </span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Experiment name Experiment_1                                                </span></span>
<span><span class="co">#&gt;      Start date   2023-01-23                                                </span></span>
<span><span class="co">#&gt;                                                                             </span></span>
<span><span class="co">#&gt;                                                                             </span></span>
<span><span class="co">#&gt;            Time           A1    B1    C1    D1    E1    F1    G1    H1    A2</span></span>
<span><span class="co">#&gt;               0        0.003 0.001 0.002 0.002 0.002 0.001 0.002 0.002 0.002</span></span>
<span><span class="co">#&gt;             900        0.068 0.002 0.002 0.001 0.002 0.002 0.001 0.002 0.001</span></span>
<span><span class="co">#&gt;            1800        0.002 0.002 0.002 0.003 0.002 0.002 0.003 0.001 0.002</span></span>
<span><span class="co">#&gt;            2700        0.002 0.003 0.003 0.044 0.135 0.002 0.003 0.012 0.002</span></span>
<span><span class="co">#&gt;            3600        0.002 0.002 0.003 0.002 0.002 0.002 0.003 0.003 0.003</span></span></code></pre></div>
<p>This file contains all the reads for a single plate taken across all
timepoints. We can see that the first two rows contain some metadata
saved by the plate reader, like the name of the experiment and the date
of the experiment. Then, we can see that the data starts on the 5th row
with a header. The first column contains the timepoint information, and
each subsequent column corresponds to a well in the plate.</p>
<p>If we want to read this file into <code>R</code>, we simply provide
<code>read_wides</code> with the file name, and save the result to some
<code>R</code> object (here, <code>imported_widedata</code>). Since our
data doesn’t start on the first row and column of the file, we simply
need to specify what row/column it does start on using the
<code>startrow</code>, <code>startcol</code>, <code>endrow</code>, and
<code>endcol</code> arguments. (<code>read_wides</code> assumes that
your data starts on the first row and column and ends on the last row
and column, so you don’t have to specify when you data meets those
criteria. Also note that <code>header = TRUE</code> by default`).</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imported_widedata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_wides.html">read_wides</a></span><span class="op">(</span>files <span class="op">=</span> <span class="st">"widedata.csv"</span>, startrow <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p>The resulting <code>data.frame</code> looks like this:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">imported_widedata</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        file Time    A1    B1    C1    D1    E1    F1    G1    H1</span></span>
<span><span class="co">#&gt; 6  widedata    0 0.003 0.001 0.002 0.002 0.002 0.001 0.002 0.002</span></span>
<span><span class="co">#&gt; 7  widedata  900 0.068 0.002 0.002 0.001 0.002 0.002 0.001 0.002</span></span>
<span><span class="co">#&gt; 8  widedata 1800 0.002 0.002 0.002 0.003 0.002 0.002 0.003 0.001</span></span>
<span><span class="co">#&gt; 9  widedata 2700 0.002 0.003 0.003 0.044 0.135 0.002 0.003 0.012</span></span>
<span><span class="co">#&gt; 10 widedata 3600 0.002 0.002 0.003 0.002 0.002 0.002 0.003 0.003</span></span>
<span><span class="co">#&gt; 11 widedata 4500 0.002 0.003 0.002 0.043 0.017 0.001 0.002 0.003</span></span></code></pre></div>
<p>Note that <em>read_wides automatically saves the filename</em> the
data was imported from into the first column of the output
<code>data.frame</code>. This is done to ensure that later on,
<code>data.frames</code> from multiple plates can be combined without
fear of losing the identity of each plate.</p>
<p>If you’re looking at your data in Excel or a similar spreadsheet
program, you’ll notice that the columns aren’t nicely numbered. Instead,
they’re coded by letter. Rather than have to count by hand what columns
your data starts and ends on, just specify the column by letter and
<code>read_wides</code> will translate that to a number for you! (in
this example we don’t have to specify a start column, since the data
starts in the first column, but I do so just to show this letter-style
functionality).</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imported_widedata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_wides.html">read_wides</a></span><span class="op">(</span>files <span class="op">=</span> <span class="st">"widedata.csv"</span>,</span>
<span>                                startrow <span class="op">=</span> <span class="fl">5</span>, startcol <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></span></code></pre></div>
<p>Note that if you have multiple files you’d like to read in, you can
do so directly with a single <code>read_wides</code> command. In this
case, read_wides will return a list containing all the data.frames:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#If we had multiple wide-shaped data files to import</span></span>
<span><span class="va">imported_widedata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_wides.html">read_wides</a></span><span class="op">(</span>files <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"widedata.csv"</span>, <span class="st">"widedata2.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="specifying-metadata-1">Specifying metadata<a class="anchor" aria-label="anchor" href="#specifying-metadata-1"></a>
</h4>
<p>Sometimes, your input files will have information you want to import
that’s not included in the main block of data. For instance, many
readers will output information like the experiment name and date into a
header in the file. <code>read_wides</code> can include that information
as well via the <code>metadata</code> argument.</p>
<p>The <code>metadata</code> argument should be a list of named vectors.
Each vector should be of length 2, with the first entry specifying the
row and the second entry specifying the column where the metadata is
located.</p>
<p>For example, in our previous example files, the experiment name was
located in the 2nd row, 2nd column, and the start date was located in
the 3rd row, 2nd column. Here’s how we could specify that metadata:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imported_widedata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_wides.html">read_wides</a></span><span class="op">(</span>files <span class="op">=</span> <span class="st">"widedata.csv"</span>,</span>
<span>                                startrow <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                                metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"experiment_name"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>                                                <span class="st">"start_date"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">imported_widedata</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        file experiment_name start_date Time    A1    B1    C1    D1</span></span>
<span><span class="co">#&gt; 6  widedata    Experiment_1 2023-01-23    0 0.003 0.001 0.002 0.002</span></span>
<span><span class="co">#&gt; 7  widedata    Experiment_1 2023-01-23  900 0.068 0.002 0.002 0.001</span></span>
<span><span class="co">#&gt; 8  widedata    Experiment_1 2023-01-23 1800 0.002 0.002 0.002 0.003</span></span>
<span><span class="co">#&gt; 9  widedata    Experiment_1 2023-01-23 2700 0.002 0.003 0.003 0.044</span></span>
<span><span class="co">#&gt; 10 widedata    Experiment_1 2023-01-23 3600 0.002 0.002 0.003 0.002</span></span>
<span><span class="co">#&gt; 11 widedata    Experiment_1 2023-01-23 4500 0.002 0.003 0.002 0.043</span></span></code></pre></div>
<p>And just like how you can specify <code>startrow</code>,
<code>startcol</code>, etc. with Excel-style lettering, the location of
metadata can also be specified with Excel-style lettering.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imported_widedata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_wides.html">read_wides</a></span><span class="op">(</span>files <span class="op">=</span> <span class="st">"widedata.csv"</span>,</span>
<span>                                startrow <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                                metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"experiment_name"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"B"</span><span class="op">)</span>,</span>
<span>                                                <span class="st">"start_date"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="reading-multiple-wides-from-a-single-file">Reading multiple wides from a single file<a class="anchor" aria-label="anchor" href="#reading-multiple-wides-from-a-single-file"></a>
</h4>
<p>In the rare case that you have multiple wide-shaped datasets saved
into a single file, <code>read_wides</code> can import that as well.
Refer to the earlier section <strong><a href="#reading-multiple-blocks-from-a-single-file">Reading multiple
blocks from a single file</a></strong>, since the syntax for such
operations is the same for <code>read_wides</code> as it is for
<code>import_blockmeasures</code>.</p>
</div>
<div class="section level4">
<h4 id="what-to-do-next-1">What to do next<a class="anchor" aria-label="anchor" href="#what-to-do-next-1"></a>
</h4>
<p>Now that you’ve imported your wide-shaped data, you’ll need to
transform it for later analyses. Continue on to the <strong><a href="#transforming-data">Transforming data</a></strong> section.</p>
</div>
</div>
<div class="section level3">
<h3 id="importing-tidy-shaped-data">Importing tidy-shaped data<a class="anchor" aria-label="anchor" href="#importing-tidy-shaped-data"></a>
</h3>
<p>To import tidy-shaped data, you could use the built-in <code>R</code>
functions like <code>read.table</code>. However, if you need a few more
options, you can use the <code>gcplyr</code> function
<code>read_tidys</code>. Unlike the built-in option,
<code>read_tidys</code> can import multiple tidy-shaped files at once,
can add the filename as a column in the resulting data.frame, and can
handle files where the tidy-shaped information doesn’t start on the
first row and column.</p>
<p><code>read_tidys</code> only requires a filename (or vector of
filenames, or relative file paths) and will return a
<code>data.frame</code> (or list of data.frames) that you can save in
R.</p>
<p>If you’ve read in your tidy-shaped data, you won’t need to transform
it, so you can skip down to the <strong>[Including design
elements]</strong> section.</p>
</div>
</div>
<div class="section level2">
<h2 id="transforming-data">Transforming data<a class="anchor" aria-label="anchor" href="#transforming-data"></a>
</h2>
<p>Now that you’ve gotten your data into the <code>R</code> environment,
we need to transform it before we can do analyses. To reiterate, this is
necessary because most plate readers that generate growth curve data
outputs it in block-shaped or wide-shaped files, but tidy-shaped
<code>data.frame</code>s are the best shape for analyses and required by
gcplyr.</p>
<p>You can transform your <code>data.frame</code>s using the
<code>trans_*</code> functions in <code>gcplyr</code>.</p>
<div class="section level3">
<h3 id="transforming-from-wide-shaped-to-tidy-shaped">Transforming from wide-shaped to tidy-shaped<a class="anchor" aria-label="anchor" href="#transforming-from-wide-shaped-to-tidy-shaped"></a>
</h3>
<p>If the data you’ve read into the<code>R</code>environment is
wide-shaped (or you’ve gotten wide-shaped data by transforming your
originally block-shaped data), you’ll transform it to tidy-shaped using
<code>trans_wide_to_tidy</code>.</p>
<p>First, you need to provide <code>trans_wide_to_tidy</code> with
the<code>R</code>object created by <code>read_wides</code> or by
<code>trans_block_to_wide</code>.</p>
<p>Then, you have to specify one of: * the columns your data (the
spectrophotometric measures) are in via <code>data_cols</code> * what
columns your non-data (e.g. time and other information) are in via
<code>id_cols</code></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imported_blocks_now_tidy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trans_wide_to_tidy.html">trans_wide_to_tidy</a></span><span class="op">(</span></span>
<span>  wides <span class="op">=</span> <span class="va">imported_blockdata</span>,</span>
<span>  id_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"block_name"</span>, <span class="st">"time"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">imported_wides_now_tidy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trans_wide_to_tidy.html">trans_wide_to_tidy</a></span><span class="op">(</span></span>
<span>  wides <span class="op">=</span> <span class="va">imported_widedata</span>,</span>
<span>  id_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"file"</span>, <span class="st">"experiment_name"</span>, <span class="st">"start_date"</span>, <span class="st">"Time"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">imported_blocks_now_tidy</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;     block_name time Well Measurements</span></span>
<span><span class="co">#&gt;  blocks_single    0   A1        6e-12</span></span>
<span><span class="co">#&gt;  blocks_single    0   A2        4e-12</span></span>
<span><span class="co">#&gt;  blocks_single    0   A3        6e-12</span></span>
<span><span class="co">#&gt;  blocks_single    0   A4        6e-12</span></span>
<span><span class="co">#&gt;  blocks_single    0   A5        4e-12</span></span>
<span><span class="co">#&gt;  blocks_single    0   A6        6e-12</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="whats-next">What’s next?<a class="anchor" aria-label="anchor" href="#whats-next"></a>
</h2>
<p>Now that you’ve imported and transformed your data to be tidy-shaped,
you likely want to incorporate some design information on what went into
each well (and plate). Alternatively, if you’d like to skip that step
for now, you can go directly to pre-processing and plotting your
data</p>
<ol style="list-style-type: decimal">
<li>Introduction</li>
<li><strong>Importing &amp; transforming data</strong></li>
<li>Incorporating design information</li>
<li>Pre-processing and plotting your data</li>
<li>Processing your data</li>
<li>Analyzing your data</li>
<li>Statistics, merging other data, and other resources</li>
</ol>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mike Blazanin.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
