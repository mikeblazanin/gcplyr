---
title: "gcplyr-workflow"
author: "Mike Blazanin"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{gcplyr-workflow}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

# Introduction
`gcplyr` is a package that implements a number of functions to make it
easier to import, manipulate, and analyze growth curve data generated by
a spectrophotometer.

# Overview and philosophy
There are three primary layouts that growth curves-related data can be in: block-shaped, wide-shaped, and tidy-shaped. `gcplyr` can read in all three different layouts of data, and then transform them into tidy-shaped data for subsequent analyses.

* block-shaped: block-shaped data has a shape which corresponds literally to the physical dimensions of a multi-well plate. In block-shaped data, a data point from the first row and first column of the file/dataframe corresponds to the topmost and leftmost well in the physical plate. A time-series of block-shaped data will have many separate block-shaped files/dataframes, with each file/dataframe corresponding to a single timepoint.
* wide-shaped: in wide-shaped data, each column of the file/dataframe corresponds to a single well from the plate, and each row of the file/dataframe corresponds to a single timepoint. Information on which well corresponds to which column is contained in the column names/header of the dataframe/file.
* tidy-shaped: in tidy-shaped data, each unique measurement-well-timepoint combination has a row, with columns containing the information on the spectrophotometric measure, design elements, and timepoint. Please see Wickham, Hadley. Tidy data. The Journal of Statistical Software, vol. 59, 2014. for more details.

Additionally, there are broadly two classes of growth curves-related information to be manipulated: numerical spectrophotometric data, and experimental design elements. If reading from files, `gcplyr` can read both classes of information, transform them, and merge them for subsequent analyses. `gcplyr` also contains the capability of specifying design elements programmatically, which can then be merged with imported spectrophotometric data.

Once spectrophotometric data and design elements have been combined, this merged measures-designs tidy-shaped dataframe can be used for subsequent pre-processing and analyses.

![General overview of gcplyr workflow](pkg-workflow.png){#id .class width=7in height=2.45in}

Note that `gcplyr` can handle multiple plates throughout this process, using lists which contain the corresponding single-plate data.frames as elements. Once design elements have been merged with these data.frames so that independent plates can be distinguished, multiple-plate lists can be collapsed together into a single tidy-shaped measures-designs dataframe using `merge_dfs`.

# Importing data
One of the first tasks of any growth curves analysis project is to import the data into the R environment. `gcplyr` contains a number of functions to handle data import, depending on how your data is formatted.

If reading from files, `gcplyr` handles reading of these two classes of information with the same general-use `read_\*` functions, and handles transformation of these two classes with the same general-use `trans_\*` functions. However, `gcplyr` also has a function `make_tidydesign` to facilitate specifying design elements programmatically, rather than importing them from an external file.

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(growth.curves.pkg)
```

# Transforming data from block-shaped to wide-shaped

# Transforming data from wide-shaped to tidy-shaped

# Generating tidy-shaped design elements

# Merging spectrophotometric and design data
Design and spectrophotometric data can be combined using `merge_dfs`, from which point they can be pre-processed and analyzed using additional functions.

# Pre-processing data

# Analyzing data