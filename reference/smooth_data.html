<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Smooth data — smooth_data • gcplyr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Smooth data — smooth_data"><meta name="description" content="This function calls other functions to smooth growth curve data"><meta property="og:description" content="This function calls other functions to smooth growth curve data"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gcplyr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/gc01_gcplyr.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/gc02_import_reshape.html">Importing and reshaping data</a></li>
    <li><a class="dropdown-item" href="../articles/gc03_incorporate_designs.html">Incorporating experimental designs</a></li>
    <li><a class="dropdown-item" href="../articles/gc04_preprocess_plot.html">Pre-processing and plotting data</a></li>
    <li><a class="dropdown-item" href="../articles/gc05_process.html">Processing data</a></li>
    <li><a class="dropdown-item" href="../articles/gc06_analyze.html">Analyzing data</a></li>
    <li><a class="dropdown-item" href="../articles/gc07_noise.html">Dealing with noise</a></li>
    <li><a class="dropdown-item" href="../articles/gc08_conclusion.html">Best practices and other tips</a></li>
    <li><a class="dropdown-item" href="../articles/gc09_multiple_plates.html">Working with multiple plates</a></li>
    <li><a class="dropdown-item" href="../articles/gc10_using_make_design.html">Using make_design to generate experimental designs</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mikeblazanin/gcplyr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Smooth data</h1>
      <small class="dont-index">Source: <a href="https://github.com/mikeblazanin/gcplyr/blob/master/R/functions.R" class="external-link"><code>R/functions.R</code></a></small>
      <div class="d-none name"><code>smooth_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function calls other functions to smooth growth curve data</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">smooth_data</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">sm_method</span>,</span>
<span>  subset_by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_fitobject <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  warn_ungrouped <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  warn_gam_no_s <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed to <code><a href="https://rdrr.io/r/stats/loess.html" class="external-link">stats::loess</a></code>, <code><a href="https://rdrr.io/pkg/mgcv/man/gam.html" class="external-link">mgcv::gam</a></code>,
<code>moving_average</code>, <code>moving_median</code>, or
<code><a href="https://rdrr.io/r/stats/smooth.spline.html" class="external-link">stats::smooth.spline</a></code>. Typically includes tuning
parameter(s), which in some cases are required.
See Details for more information.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An (often optional) vector of predictor values to smooth along
(e.g. time)</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>A vector of response values to be smoothed (e.g. density). If NULL,
<code>formula</code> and <code>data</code> *must* be provided via <code>...</code></p></dd>


<dt id="arg-sm-method">sm_method<a class="anchor" aria-label="anchor" href="#arg-sm-method"></a></dt>
<dd><p>Argument specifying which smoothing method should
be used to smooth data. Options include
"moving-average", "moving-median", "loess", "gam",
and "smooth.spline".</p></dd>


<dt id="arg-subset-by">subset_by<a class="anchor" aria-label="anchor" href="#arg-subset-by"></a></dt>
<dd><p>An optional vector as long as <code>y</code>.
<code>y</code> will be split by the unique values of this vector
and the smoothed data for each group will be calculated
independently of the others.</p>
<p>This provides an internally-implemented approach similar
to <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::group_by</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate</a></code></p></dd>


<dt id="arg-return-fitobject">return_fitobject<a class="anchor" aria-label="anchor" href="#arg-return-fitobject"></a></dt>
<dd><p>logical whether entire object returned
by fitting function should be returned. If FALSE,
just fitted values are returned.</p></dd>


<dt id="arg-warn-ungrouped">warn_ungrouped<a class="anchor" aria-label="anchor" href="#arg-warn-ungrouped"></a></dt>
<dd><p>logical whether warning should be issued when
<code>smooth_data</code> is being called on ungrouped data
and <code>subset_by = NULL</code>.</p></dd>


<dt id="arg-warn-gam-no-s">warn_gam_no_s<a class="anchor" aria-label="anchor" href="#arg-warn-gam-no-s"></a></dt>
<dd><p>logical whether warning should be issued when gam is
used without <code>s()</code> in the formula.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>return_fitobject == FALSE:</code></p>
<p>A vector, the same length as <code>y</code>, with the now-smoothed y values</p>
<p>If <code>return_fitobject == TRUE:</code></p>
<p>A list the same length as unique(subset_by) where each element is
        an object of the same class as returned by the smoothing method
        (typically a named list-like object)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For <code>moving_average</code> and <code>moving_median</code>,
           passing <code>window_width</code> or <code>window_width_n</code> via
           <code>...</code> is required. <code>window_width</code> sets the width
           of the moving window in units of <code>x</code>, while
           <code>window_width_n</code> sets the width in units of number
           of data points. Larger values for either will produce more
           "smoothed" data.</p>
<p>For <code>loess</code>, the <code>span</code> argument sets the fraction of
           data points that should be included in each calculation. It's
           typically best to specify, since the default of 0.75 is often
           too large for growth curves data. Larger values of <code>span</code>
           will produce more more "smoothed" data</p>
<p>For <code>gam</code>, both arguments to <code>gam</code> and <code>s</code> can
           be provided via <code>...</code>. Most frequently, the <code>k</code>
           argument to <code>s</code> sets the number of "knots" the
           spline-fitting can use. Smaller values will be more "smoothed".</p>
<p>When using <code>sm_method = "gam"</code>, advanced users may also modify
           other parameters of <code>s()</code>, including the smoothing basis
           <code>bs</code>. These bases can be thin plate (<code>bs = "tp"</code>,
           the default), cubic regressions (<code>bs = "cr"</code>), or many other
           options (see <code>?mcgv::s</code>). I recommend leaving the default
           thin plate regressions, whose main drawback is that they are
           computationally intensive to calculate. For growth curves data,
           this is unlikely to be relevant.</p>
<p>As an alternative to passing <code>y</code>, for more advanced needs
           with <code>loess</code> or <code>gam</code>, <code>formula</code> and <code>data</code>
           can be passed to <code>smooth_data</code> via the <code>...</code> argument
           (in lieu of <code>y</code>).</p>
<p>In this case, the formula should specify the response (e.g. density)
           and predictors. For <code>gam</code> smoothing, the formula should
           typically be of the format: y ~ s(x), which uses
           <code><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">mgcv::s</a></code> to smooth the data. The data argument should be a
           <code>data.frame</code> containing the variables in the formula.
           In such cases, <code>subset_by</code> can still be specified as a vector
           with length <code>nrow(data)</code></p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://mikeblazanin.wordpress.com" class="external-link">Mike Blazanin</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

